use crate::game::factions::upgrade::{StawUpgrade, UpgradeConstraint};

pub const UPGRADES_1: &'static [StawUpgrade] = &[
    StawUpgrade {
        upgrade_type: "weapon",
        id: "W217",
        set: &["75010"],
        name: "Waylay",
        cost: 2,
        text: "The Attack Value of this [weapon] is this ship's Primary Weapon Value.\n<b>ATTACK:</b> Place 2 [time] Tokens on this card and target an opposing ship\nIf this card is equipped to a B'rel Class ship, place an [aux] Token beside the defending ship.\nAfter making this attack, this ship may perform a 1 white [bank-left] or 1 white [bank-right] and place an [evade] Token beside this ship.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::HullConstraint("3-"), UpgradeConstraint::FrontArc, UpgradeConstraint::Attack("*"),
            UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W216",
        set: &["75010"],
        name: "Concussive Charges",
        cost: 2,
        text: "The Attack Value of this [weapon] is the ship's Primary Weapon Value.\n<b>ATTACK:</b> Spend this ship's [cloak] Token, raise its Shields, place 2 [time] Tokens on this card, and target an opposing ship.\nIf this card is equipped to a K't'inga Class Ship, it rolls +1 attack die. For each uncancelled [hit] or [crit], remove up to 1 Token of your choice beside the defending ship.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipKlingon, UpgradeConstraint::FrontArc, UpgradeConstraint::RearArc,
            UpgradeConstraint::Attack("*"), UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T273",
        set: &["75010"],
        name: "Science Station",
        cost: 4,
        text: "Add 1 [tech] to this ship's Upgrade Bar.\n<b>FREE ACTION:</b> If this ship is Cloaked, place 2 [time] Tokens on this card.\n\nPlace 1 [scan] Token beside this ship. If an opposing ship is within this ship's Primary Firing Arc, this ship may perform a [target-lock] Action targeting that opposing ship as a Free Action.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C379",
        set: &["75010"],
        name: "Klingon Gunner",
        cost: 2,
        text: "<b>WHEN ATTACKING:</b> During the Modify Attack Dice Step, discard this card.\n\nAdd 1 [hit].",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C378",
        set: &["75010"],
        name: "Mara",
        cost: 2,
        text: "Add the [scan] Action to this ship's Action Bar.\n----------------------------------------\n<b>WHEN THE CAPTAIN OF THIS SHIP WOULD BE DISABLED OR DISCARDED:</b>\n\nDiscard this card instead.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C377",
        set: &["75010"],
        name: "Kolana",
        cost: 2,
        text: "<b>WHEN ONE OR MORE [time] TOKENS WOULD BE PLACED ON A [weapon] UPGRADE EQUIPPED TO THIS SHIP:</b>\n\nPlace 1 fewer [time] Tokens. If this ship is Cloaked and it is a Klingon [weapon] Upgrade, place 2 fewer [time] Tokens instead.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C376",
        set: &["75010"],
        name: "Ch'Targh",
        cost: 3,
        text: "<b>END PHASE:</b> Remove an [aux] Token beside this ship.\n\nFlip this ship's [cloak] Token to its Green side.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C375",
        set: &["75010"],
        name: "Yeto",
        cost: 4,
        text: "<b>ACTION:</b> Discard this card and target an opposing ship that has no Active Shields.\n\nDisable 1 [crew] Upgrade on the target ship and/or steal 1 [crew] Upgrade from the target ship, ignoring this ship's restrictions.",
        factions: &["klingon", "independent"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E209",
        set: &["75010"],
        name: "A Death Worthy of Sto-Vo-Kor",
        cost: 4,
        text: "<b>ACTION:</b> Discard this card and a [crew] Upgrade equipped to this ship and target an opposing ship.\n\nDiscard an Upgrade equipped to the target ship. If that Upgrade has a printed SP cost higher than the printed SP ost of the [crew] Upgrade you discarded, this ship rolls +1 attack die for all attacks this game round.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2), UpgradeConstraint::CaptainKlingon],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E208",
        set: &["75010"],
        name: "Dahar Master",
        cost: 2,
        text: "Can only be equipped to a Captain name Kang, Koloth, or Kor.\n----------------------------------------\nIncrease the Captain Skill of this Captain by 1 for each copy of Dahar Master in your fleet, including this one.\n----------------------------------------\n<b>ACTIVIATION PHASE:</b> This ship may perform a [cloak] Action or [target-lock] Action as a Free Action. (Utopia Note: Code not working yet)",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipKlingon],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T272",
        set: &["75011"],
        name: "Metaphasic Sweep",
        cost: 1,
        text: "<b>FREE ACTION:</b> Discard this card.\n\nPerform a [target-lock] Action as a Free Action, even if the target ship has a [cloak] Token beside it.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T271",
        set: &["75011"],
        name: "Ablative Armor",
        cost: 2,
        text: "<b>WHEN DEFENDING:</b> During the Roll Defense Dice Step:\n\nRoll +1 defense die.\n----------------------------------------\n<b>WHEN DEFENDING:</b> During the Modify Attack Dice Step:\nConvert all [crit] to [hit].\n(</i>Defiant Class Only</i>)",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T270",
        set: &["75011"],
        name: "Advanced Shields",
        cost: 4,
        text: "Add 2 to this ship's Shield Value.\n----------------------------------------\n<b>ACTION:</b> Remove this card from play.\n\nRepair up to 3 Shields on this ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::ShipFederation, UpgradeConstraint::HullConstraint("5+")],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W215",
        set: &["75011"],
        name: "Experimental Torpedo Bay",
        text: "<b>START OF THE GAME:</b> Place a Torpedo [weapon] Upgrade with a printed SP cost of 5 or less face down beneath this card.\n----------------------------------------\n<b>COMBAT PHASE:</b> Discard this card.\n\nFlip the card beneath this card face up and equip it to this ship, ignoring restrictions. (Utopia Note: Code still in progress)",
        cost: 2,
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W214",
        set: &["75011"],
        name: "Dorsal Torpedo Pod",
        text: "<b>WHEN ATTACKING WITH A FEDERATION TORPEDO UPGRADE:</b>\n\nThis ship may target an opposing ship with that Torpedo Upgrade outside of its normal Firing Arcs.\n (<i>Akira Class Only</i>)",
        cost: 3,
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W213",
        set: &["75011"],
        name: "Phaser Cannons",
        text: "<b>ATTACK:</b> Place 3 [time] Tokens on this card and target an opposing ship.\n----------------------------------------\n<b>AFTER ATTACKING WITH THIS [weapon] UPGRADE:</b> \nYou may make an attack with this ship's Primary Weapon.\n (<i>Defiant Class Only</i>)",
        cost: 3,
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 2), UpgradeConstraint::FrontArc, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C374",
        set: &["75011"],
        name: "Enrique Muniz",
        text: "<b>WHEN ATTACKING OR DEFENDING:</b> Place 2 [time] Tokens on this card and target a friendly ship.\n\nThis ship may use one [battlestations], [evade], or [scan] Token beside the target ship as if it was beside this ship, this game round.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C373",
        set: &["75011"],
        name: "Sarita Carson",
        text: "<b>COMBAT PHASE:</b> Place 2 [time] Tokens on this card.\n\nPerform a 1 red [straight] or 2 red [straight].",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C372",
        set: &["75011"],
        name: "Ezri Dax",
        text: "Add 1 [crew] to this ship's Upgrade Bar.\n----------------------------------------\n<b>WHENEVER ONE OR MORE [time] TOKENS WOULD BE PLACED ON THIS SHIP'S CAPTAIN OR A [crew] UPGRADE EQUIPPED TO THIS SHIP:</b>\n\nPlace 1 fewer [time] Tokens on that card.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    },
    StawUpgrade {
        upgrade_type: "crew",
        id: "C371",
        set: &["75011"],
        name: "Julian Bashir",
        text: "<b>ACTIVIATION PHASE:</b> Target a [crew] Upgrade equipped to this ship or another ship:\n\nRemove 2 [time] Tokens or a disable Token from the target [crew] Upgrade.  If the targeted [crew] is on an opposing ship, that ship rolls -1 attack die this game round.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C370",
        set: &["75011"],
        name: "Kira Nerys",
        text: "<b>FREE ACTION:</b> Place 3 [time] Tokens on this card and target an opposing ship.\n\nDisable a [tech] Upgrade equipped to the target ship, then roll 1 attack die. On a [hit] or [crit], discard 1 [crew] Upgrade equipped to the target ship.",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T259",
        set: &["80001"],
        name: "Subspace Field",
        cost: 4,
        text: "<b>ACTION:</b> Discard this card.\n\nRemove all [aux] Tokens beside all ships.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Range(1, 1), UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T258",
        set: &["80001"],
        name: "Improved Hull Plating",
        cost: 2,
        text: "<b>WHEN DEFENDING:</b> During the Modify Attack Dice Step:\n\nConvert 1 [crit] into 1 [hit].",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T257",
        set: &["80001"],
        name: "EMH",
        cost: 4,
        text: "<b>PLANNING PHASE:</b> Place 2 [time] Tokens on this card.\n\nRemove 1 Disabled Token on a [crew] Upgrade equipped to this ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T256",
        set: &["80001"],
        name: "Impulse Efficiency",
        cost: 2,
        text: "<b>EXECUTE MANEUVER STEP:</b> If this ship performs a white maneuver, place 2 [time] Tokens on this card.\n\nRemove 1 [aux] Token beside this ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W207",
        set: &["80001"],
        name: "Enhanced Targeting",
        text: "<b>WHEN ATTACKING:</b>\n\nThis ship may re-roll 1 attack die.",
        cost: 4,
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W205",
        set: &["80001"],
        name: "Overcharged Phasers",
        text: "<b>WHEN ATTACKING WITH THIS SHIP'S PRIMARY WEAPON:</b>\n\nRoll +1 Attack die.",
        cost: 3,
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Range(2, 2), UpgradeConstraint::OnePerShip, UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W204",
        set: &["80001", "2017core", "75011"],
        name: "Photon Torpedoes",
        text: "The Attack Value of this [weapon] is this ship's Primary Weapon Value +1.\n---------------------------------\n<b>ATTACK:</b> Spend this ship's  [target-lock] Token, disable this card and target an opposing ship.\n\nThis ship may convert all [blank]  into [battlestations].",
        cost: 2,
        factions: &["federation"],
        constraints: &[UpgradeConstraint::FrontArc, UpgradeConstraint::RearArc, UpgradeConstraint::Range(2, 3), UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C362",
        set: &["80001"],
        name: "Commander",
        text: "<b>ACTION:</b>\n\nPlace 1 [battlestations] Token and 1 [evade] Token beside this ship.",
        factions: &["federation"],
        cost: 5,
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C361",
        set: &["80001"],
        name: "Helmsman",
        text: "<b>ACTIVATION PHASE:</b> When this ship's maneuver is revealed, disable this card.\n\nIncrease or decrease the maneuver's speed by 1, even if this results in a maneuver that does not appear on this ship's Maneuver Dial.",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C360",
        set: &["80001"],
        name: "Tactical Officer",
        text: "<b>WHEN ATTACKING:</b> Disable this card.\n\nRe-roll any number of attack dice.",
        factions: &["federation"],
        cost: 4,
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C359",
        set: &["80001"],
        name: "Operations Officer",
        text: "<b>END PHASE:</b> Spend an [evade] Token beside this ship.\n\nRepair 1 Shield on this ship.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E203",
        set: &["80001"],
        name: "Wing Leader",
        cost: 3,
        text: "<b>WHEN A FRIENDLY SHIP WITHIN RANGE IS ATTACKING OR DEFENDING:</b>\n\nThat ship may re-roll 1 [battlestations].",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance, UpgradeConstraint::Range(1, 1), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E202",
        set: &["80001"],
        name: "Battle-Hardened",
        cost: 4,
        text: "<b>WHEN THIS SHIP SPENDS A [battlestations] TOKEN:</b> Place 1 [time] Token on this card.\n\nPlace a [battlestations] Token beside this ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance, UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E201",
        set: &["80001"],
        name: "Evasive Pattern Delta",
        cost: 3,
        text: "<b>COMBAT PHASE:</b> Spend an [evade] Token beside this ship and discard this card.\n\nPerform a maneuver with a speed of 2 on this ship's maneuver dial.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance, UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E200",
        set: &["80001"],
        name: "Calculating",
        cost: 1,
        text: "<b>ACTIVATION PHASE:</b> Discard this card.\n\nThis game round, the Captain Skill of the Captain equipped to this ship is 10.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance, UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W203",
        set: &["80001"],
        name: "Dorsal Phaser Array",
        text: "<b>ATTACK:</b> Target an opposing ship.\n\nThis ship may fire this [weapon] in any direction.",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 2),
            UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W202",
        set: &["80001"],
        name: "Quantum Torpedoes",
        text: "<b>ATTACK:</b> Spend this ship's     [target-lock] Token, disable this card, and target an opposing ship.  \n\nIf the defending ship is hit, add 1 [hit].",
        factions: &["federation"],
        cost: 6,
        constraints: &[
            UpgradeConstraint::Unique, UpgradeConstraint::Skill(0), UpgradeConstraint::RearArc, UpgradeConstraint::FrontArc,
            UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3), UpgradeConstraint::Alliance,
        ],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C358",
        set: &["80001"],
        name: "Science Officer",
        text: "<b>ACTION:</b>\n\nPlace 2 [scan] Tokens beside this ship.",
        factions: &["federation"],
        cost: 3,
        constraints: &[
            UpgradeConstraint::OnePerShip, UpgradeConstraint::Alliance
        ],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T255",
        set: &["80001"],
        name: "Detection Grid",
        cost: 3,
        text: "<b>COMBAT PHASE:</b> If there is a [scan] Token beside this ship:\n\nOpposing ships that are both in range and in this ship's primary firing arc roll 1 fewer defense dice when defending against another friendly ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance, UpgradeConstraint::Range(1, 3), UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E199",
        set: &["80001"],
        name: "Inspiring",
        cost: 2,
        text: "<b>PLANNING PHASE:</b> Target a friendly ship.\n\nRemove 1 [aux] token beside the target ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance, UpgradeConstraint::Range(1, 1), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T254",
        set: &["80001"],
        name: "Impulse Upgrade",
        cost: 1,
        text: "Treat this ship's 2 [bank-left], 2 [straight], and 2 [bank-right] maneuvers as green.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T253",
        set: &["80001"],
        name: "Reinforced Shielding",
        cost: 3,
        text: "Add +2 to this ship's Shield Value.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Alliance, UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W201",
        set: &["80001"],
        name: "Full Spread",
        cost: 5,
        text: "<b>AFTER ATTACKING WITH A TORPEDO UPGRADE:</b> Discard this card and the Torpedo Upgrade used.\n\nMake another attack with the same Torpedo Upgrade against a different target (even if the Torpedo is disabled, has a time token, or you no longer have a   [target-lock] Token to spend).",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Alliance],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q018",
        set: &["75009"],
        name: "Kanar",
        cost: 1,
        text: "This upgrade can be equipped to a ship without requiring an Upgrade Slot\n-----------------------------------\n<b>PLANNING PHASE: </b>Place 2 [time] Tokens on the Captain equipped to this ship.\nPlan this ships Maneuver with the dial face up this game round. This ship does its Perfrom Action Step before its Revial Dial Step this game round.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::ShipDominion, UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C363",
        set: &["75009"],
        name: "Gul Broca",
        text: "<b>COMBAT PHASE:</b> Discard this card, target this ship, and target all friendly Dominion ships.\n\nAll target ships roll +1 attack die this game round.",
        cost: 2,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::ShipDominion, UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C365",
        set: &["75009"],
        name: "Tora Ziyal",
        text: "<b>WHEN DEFENDING:</b> During the Compare Results Step, target the attacking ship and remove this card from the game.\nCancel the attack. This ship may make an attack against the attacking ship with its Primary Weapon with -1 attack die, if possible.",
        cost: 5,
        factions: &["dominion", "bajoran"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C366",
        set: &["75009"],
        name: "Korinas",
        text: "<b>ACTION:</b> Disable this card, place an [aux] Token beside this ship, and target a Minefield Token.\n\nRemove the target Minefield Token from the play area.",
        cost: 3,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E204",
        set: &["75009"],
        name: "Obsidian Order",
        text: "<b>EACH TIME AN OPPOSING SHIP WITHIN RANGE SPENDS A [battlestations], [evade], OR [scan] TOKEN:</b> Place a token of the same type beside this ship.",
        cost: 5,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipDominion, UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E205",
        set: &["75009"],
        name: "Supreme Tribunal",
        text: "<b>END PHASE:</b> Place 4 [time] Tokens on this card and target an opposing ship.\n\nPlace an [aux] Token beside the target ship.",
        cost: 1,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E206",
        set: &["75009"],
        name: "Interrogation",
        text: "<b>PLANNING PHASE:</b> Discard this card and target a [crew] Upgrade equipped to an oppsoing ship.\n\nPlace 3 [time] Tokens on the target [crew] Upgrade.",
        cost: 2,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W208",
        set: &["75009"],
        name: "Multiple Dorsal Arrays",
        text: "<b>ATTACK:</b> Place 2 [time] Tokens on this card and target an opposing ship.\n\nOnce per game round, if you hit an Attack Squadran with this [weapon], you may perform an additional attack against the same target. (<i>Galor Class Only</i>)",
        cost: 3,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 3), UpgradeConstraint::ShipLimit, UpgradeConstraint::Arc360],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W209",
        set: &["75009"],
        name: "Enhanced Resonance Field Grid",
        text: "<b>WHEN ATTACKING WITH THIS SHIP'S PRIMARY WEAPON:</b> During the Deal Damage Step, discard this card, and select 1 uncancelled [hit].\n\nDeal the selected [hit] to the defending ship's Hull.",
        cost: 2,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W210",
        set: &["75009"],
        name: "Phase Disruptor Array",
        text: "<b>WHEN ATTACKING WITH THIS SHIP'S PRIMARY WEAPON:</b> During the Modify Attack Dice Step, if the defending ship is within Range, place 3 [time] Tokens on this card and spend this ship's [target-lock] Token.\nRe-roll any number of attack dice up to two times. (<i>Galor or Keldon Class Only</i>).",
        cost: 2,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Range(1, 2), UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C364",
        set: &["75009"],
        name: "Gul Damar",
        text: "Increase the Captain Skill of the Captain equipped to this ship by 2.\n<b>WHEN A FRIENDLY SHIP ATTACKS WITH A [weapon] UPGRADE:</b> Target that ship and place 2 [time] Tokens on the [weapon] Upgrade being used.\nThe target ship may re-roll up to 3 attack dice this attack.",
        cost: 2,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T260",
        set: &["75009"],
        name: "Sensor Ghost",
        text: "<b>WHEN DEFENDING:</b> Discard this card.\n\nThe attacking ship rolls -1 attack die.  If this ship is not destroyed by the attack, it may perform a [sensor-echo] Action as a Free Action using the 1 [straight] Maneuver Template even if it does not have the [sensor-echo] Action on its Action Bar and/or is not Cloaked.",
        cost: 2,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T261",
        set: &["75009"],
        name: "Uridium Alloy",
        text: "<b>WHEN ATTACKING:</b> During the Modify Attack Dice Step, disable this card.\n\nConvert 2 [hit] into 1 [crit].\n(<i>Galor or Keldon Class Only</i>).",
        cost: 1,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T262",
        set: &["75009"],
        name: "Type-3 Galor Class",
        text: "Replace the Shield Value of this ship with its printed Shield Value +2.\n\n(</i>Galor Class Only</i>)",
        cost: 4,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T263",
        set: &["75009"],
        name: "Legion Crew Module",
        text: "Add 2 [crew] to this ship's Upgrade Bar.",
        cost: 2,
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::ShipDominion],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C369",
        set: &["75008"],
        name: "T'Paal",
        text: "Place the Stone of Gol [tech] Upgrade facedown under T'Paal for 0 SP.\n<b>EXECUTE MANEUVER STEP:</b> After this ship moves, discard this card and target an opposing ship. Discard 1 [tech] Upgrade equipped to the target ship.  Flip the Stone of Gol [tech] Upgrade under T'Paal face up and equip it to this ship, ignoring restrictions.",
        cost: 2,
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C368",
        set: &["75008"],
        name: "Vorik",
        text: "<b>WHEN DEFENDING:</b> Place 3 [time] Tokens on this card.\n\nRemove a    [target-lock] Token or a [battlestations] Token beside the attacking ship.  Place a [scan] Token beside this ship.",
        cost: 2,
        factions: &["federation", "vulcan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C367",
        set: &["75008"],
        name: "Chu'Lak",
        text: "<b>FREE ACTION:</b> Place three [scan] Tokens beside this ship.\n\n<b>END PHASE:</b> If you used Chu'Lak's Free Action: \nYou must discard 1 [crew] Upgrade equipped to this ship.",
        cost: 2,
        factions: &["federation", "vulcan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W212",
        set: &["75008"],
        name: "Photonic Auto-Cannon",
        text: "<b>ATTACK:</b> If this ship has a [scan] Token beside it, place 3 [time] Tokens on this card and target an opposing ship.\n\nConvert all [battlestations] into [hit].",
        cost: 3,
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3), UpgradeConstraint::FrontArc, UpgradeConstraint::RearArc, UpgradeConstraint::ShipVulcan],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W211",
        set: &["75008"],
        name: "Aft Particle Beam",
        text: "<b>ATTACK:</b> Place 2 [time] Tokens on this card and target an opposing ship.",
        cost: 2,
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 3), UpgradeConstraint::ShipVulcan, UpgradeConstraint::RearArc],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E207",
        set: &["75008"],
        name: "Logic is the Beginning of Wisdom",
        cost: 2,
        text: "<b>ACTIVATION PHASE:</b> Target a ship.\n\nPlace a [time] token, Continuous Effect Token or Permanent Effect Token from this ship, or a card equipped to this ship, on the target ship, or a card equipped to the target ship of the same type.",
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::CaptainVulcan, UpgradeConstraint::ShipVulcan, UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T269",
        set: &["75008"],
        name: "Graviton Telescope",
        cost: 2,
        text: "<b>WHEN ATTACKING:</b> During the Deal Damage Step, if there is a [scan] Token beside this ship, disable this card.\n\nAdd 1 [hit].",
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T268",
        set: &["75008"],
        name: "Translinear Sensors",
        cost: 3,
        text: "<b>WHEN ATTACKING:</b> During the Roll Defense Dice Step, if there is a [scan] Token beside this ship, place 3 [time] Token on this card.\n\nThe defending ship may not roll more than 2 defense dice this attack.",
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T264",
        set: &["75008"],
        name: "Katric Ark",
        cost: 2,
        text: "<b>WHEN A VULCAN [crew] UPGRADE EQUIPPED TO THIS SHIP IS DISCARDED:</b> Place that [crew] Upgrade beneath this card.\n<b>ACTION:</b> Remove this card from play.\nEquip one [crew] Upgrade beneath this card to this ship. Discard all other [crew] Upgrades beneath this card.",
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::ShipVulcan, UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T267",
        set: &["75008"],
        name: "Stone of Gol",
        cost: 3,
        text: "<b>ACTION:</b>Place 3 [time] Tokens on this card and target a [crew] Upgrade equipped to an opposing ship.\nRoll a number of attack dice equal to the printed SP cost of the target [crew] Upgrade. If at least 1 [crit] is rolled, discard the target [crew] Upgrade. Otherwise, place 1 [time] Token on that [crew] Upgrade for each [hit]. (<i>Non-Vulcan ship costs +5 SP</i>)",
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T266",
        set: &["75008"],
        name: "Science Vessel Variant",
        cost: 4,
        text: "You may not equip the Combat Vessel Variant [tech] Upgrade to this ship.\n\nAdd 1 to this ship's Agility Value and Hull Value.\n\n(<i>D'kyr or Suurok class ships only</i>)",
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T265",
        set: &["75008"],
        name: "Combat Vessel Variant",
        cost: 2,
        text: "You may not equip the Science Vessel Variant [tech] Upgrade to this ship.\n\nReplace this ship's Primary Weapon Value with its printed Primary Weapon Value +1.\n\n(<i>D'kyr or Suurok class ships only</i>)",
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E198",
        set: &["75008"],
        name: "Live Long And Prosper",
        cost: 3,
        text: "<b>ACTIVATION PHASE:</b> Discard this card and target an opposing ship.\n\nRoll 4 defense dice if at least 3 [evade] are rolled this ship and the target ship cannont attack this game round.",
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::CaptainVulcan, UpgradeConstraint::ShipVulcan, UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E195",
        set: &["75007"],
        name: "Collective Consciousness",
        cost: 5,
        text: "<b>PLANNING PHASE: </b>Place 3 [time] Tokens on this card and target all friendly ships with a Borg Captain equipped to them.\n\nThe Captains equipped to the target ships replace their Captain Skill with the Captain Skill of the Captain equipped to this ship this game round.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Range(1, 3), UpgradeConstraint::CaptainBorg],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E194",
        set: &["75007"],
        name: "Root Command",
        cost: 4,
        text: "<b>COMBAT PHASE: </b>Discard this card and target an opposing ship\n\nDuring the target ship's Declare Target Step this game round, you choose that ship's target. The target must still be legal.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::ShipBorg, UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E193",
        set: &["75007"],
        name: "Ocular Implants",
        cost: 4,
        text: "<b>WHEN THIS SHIP PERFORMS A  [target-lock] ACTION:</b>\n\nThis ship may perform a [battlestations] Action as a Free Action.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::CaptainBorg, UpgradeConstraint::ShipBorg],
    }, StawUpgrade {
        upgrade_type: "borg",
        id: "B023",
        set: &["75007"],
        name: "Interlink Transceiver",
        cost: 2,
        text: "This ship and all friendly Borg ships within Range increase their Agility Value by 1.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "borg",
        id: "B022",
        set: &["75007"],
        name: "Technological Distinctiveness",
        cost: 3,
        text: "<b>ACTION:</b>\nPlace one Mission Token on this card.\n-----------------------------------\n<b>WHEN ATTACKING WITH THIS SHIP'S PRIMARY WEAPON:</b>\n\nThis ship rolls +1 attack die for each Mission Token on this card.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::ShipBorg],
    }, StawUpgrade {
        upgrade_type: "borg",
        id: "B021",
        set: &["75007"],
        name: "Assimilation Tubules",
        cost: 3,
        text: "<b>ACTION:</b> Discard this card and target an opposing ship that is not Cloaked and has no Active Shields.\n\nSteal 1 [crew] Upgrade equipped to the target ship, ignoring this ship's restrictions.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "borg",
        id: "B020",
        set: &["75007"],
        name: "Borg Multi-Adaptive Shields",
        cost: 5,
        text: "You must discard this card if this ship has no Active Shields.\n-----------------------------------\n<b>WHEN DEFENDING:</b> During the Compare Results Step:\n\nCancel 1 [hit]",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipBorg],
    }, StawUpgrade {
        upgrade_type: "borg",
        id: "B019",
        set: &["75007"],
        name: "Distribution Nodes",
        cost: 1,
        text: "<b>ACTIVATION PHASE:</b> Target a friendly ship.\n\nRepair 1 Hull on this ship and deal 1 [hit] to the Hull of the target ship.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T252",
        set: &["75007"],
        name: "Integrated Borg Technology",
        cost: 1,
        text: "Add 1 [borg] to this ship's Upgrade Bar\n----------------------------------------\nYou do not pay a faction penalty for this card.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W200",
        set: &["75007"],
        name: "Advanced Proton Beam",
        cost: 3,
        text: "The Attack Value of this [weapon] are this ship's Printed Primary Weapon Value.\n<b>ATTACK:</b> Remove this card from play, spend 2 Drone Tokens on the Captain equipped to this ship, and target an opposing ship.\n\nAll Damage inflicted by this attack ignores the defending ship's Shields",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Range(1, 1), UpgradeConstraint::Attack("*"), UpgradeConstraint::Unique, UpgradeConstraint::ShipBorg, UpgradeConstraint::FrontArc, UpgradeConstraint::Arc360],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W199",
        set: &["75007"],
        name: "Bio-Molecular Torpedo",
        cost: 0,
        text: "<font size=\"-1\">The Attack Value and cost of this [weapon] are this ship's Printed Primary Weapon Value.  <b>ATTACK:</b> Spend 2 Drone Tokens on the Captain equipped to this ship and target an opposing ship.  If this attack hits, place 2 [time] Tokens on the Captain and each [crew] Upgrade equipped to the defending ship. If the defending ship is a Species 8472 ship, place 2 [time] Tokens on all the cards equipped to it instead.</font>",
        factions: &["federation", "borg"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Attack("*"), UpgradeConstraint::Unique, UpgradeConstraint::ShipBorg, UpgradeConstraint::FrontArc, UpgradeConstraint::RearArc],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C357",
        set: &["75007"],
        name: "B'Elanna Torres",
        cost: 3,
        text: "Add 1 [borg] to this ship's Upgrade Bar. The [borg] Upgrade equipped to this ship using that [borg] Upgrade Slot cost -1SP for each unused Upgrade Slot on that ship's printed Upgrade Bar.",
        factions: &["federation", "borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C352",
        set: &["75007"],
        name: "Three of Nine",
        cost: 5,
        text: "<b>WHEN THIS SHIP PERFORMES A [regenerate] ACTION:</b>\n\nRepair up to 1 Shield and 1 Hull instead. this ship does not lose its attack from performing the [regenerate] Action.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::ShipBorg],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C350",
        set: &["75007"],
        name: "Tuvok",
        cost: 5,
        text: "<b>WHEN DEFENDING:</b> During the Modify Attack Dice Step, spend 1 Drone Token on the Captain equiped to this ship.\n\nThe attacking ship cannot re-roll any attack dice this attack. In addition, if the attacking ship has any Federation [weapon] Upgrades equipped to it, convert 1 [hit] or [crit] into 1 [blank] .",
        factions: &["federation", "borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C345",
        set: &["75007"],
        name: "Crosis",
        cost: 3,
        text: "Increase the Captain Skill of the Captain equiped to this ship by 1. If the Captain is a Borg Captain increase its Captain Skill by 3 instead.\n-----------------------------------\n<b>ONCE PER GAME, WHEN THE CAPTAIN OF THIS SHIP IS DISCSARDED:</b>\n\nThis Card becomes this ship's Captain. Place 5 Drone Tokens on this card.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C351",
        set: &["75007"],
        name: "Seven of Nine",
        cost: 2,
        text: "Add 1 [borg] to this ship's Upgrade Bar.\n-----------------------------------\nAll [borg] Upgrades equipped to this ship cost -1 SP.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E197",
        set: &["75006"],
        name: "Worthy Opponent",
        cost: 3,
        text: "<b>WHEN DEFENDING WHILE THERE IS AT LEAST 1 DAMAGE CARD BESIDE THIS SHIP'S SHIP CARD:</b> Discard this card.\n\nConvert all the attacking ship's [hit], [crit], and [battlestations] into [blank] .",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::CaptainKlingon, UpgradeConstraint::ShipKlingon],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E196",
        set: &["75006"],
        name: "Legacy of the Name",
        cost: 3,
        text: "Can only be equipped to a Unique ship.\n-----------------------------------\n<b>FREE ACTION:</b> Place 3 [time] Tokens on this card.\n\nPerform a [battlestations] Action or an [evade] Action as a Free Action. If this card is equipped to a ship with \"Enterprise\" in its name, you may perform any available Action as a Free Action instead.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::CaptainFederation, UpgradeConstraint::ShipFederation],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W198",
        set: &["75006"],
        name: "Disruptor Blast",
        cost: 3,
        text: "<b>ATTACK:</b> Place 3 [time] Tokens on this card and target an opposing ship.\n\nMake this attack twice against the defending ship. If this ship is a D7 Class you may convert 1 [blank] into 1 [battlestations] during each attack.",
        factions: &["klingon", "romulan"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Attack("3"), UpgradeConstraint::FrontArc],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W197",
        set: &["75006"],
        name: "Full Power Phaser Barrage",
        cost: 5,
        text: "<font size=\"-1\">The Attack Value of this [weapon] is this ship's printed Primary Weapon Value.  \n<b>ATTACK:</b> Place 3 [time] Tokens on this card, place an [aux] Token beside this ship, and target an opposing ship.  If this [weapon] is equipped to a Constitution Class ship, this ship rolls +2 attack dice. During the Deal Damage Step, if there is at least 2 uncancelled [hit] and/or [crit], roll 3 additional attack dice and add all [hit] and/or [crit] to the attack total.</font>",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Range(2, 3), UpgradeConstraint::Attack("*"), UpgradeConstraint::Unique, UpgradeConstraint::FrontArc],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W196",
        set: &["75006"],
        name: "Magnetic Pulse",
        cost: 5,
        text: "The Attack Value of this [weapon] is this ship's printed Primary Weapon Value.\n-----------------------------------\n<b>ATTACK:</b> Disable 1 Active Shield on this ship and target an opposing ship.\nIf this [weapon] is equipped to a D7 Class ship, this ship rolls +2 attack dice. All [crit] that would damage a Shield on the defending ship inflicts 1 [hit] to the defending ship's Hull instead.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Range(2, 3), UpgradeConstraint::Attack("*"), UpgradeConstraint::OnePerShip, UpgradeConstraint::FrontArc],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C355",
        set: &["75006"],
        name: "Christine Chapel",
        cost: 3,
        text: "<b>PLANNING PHASE:</b> Disable this card or place 3 [time] Tokens on this card, and target a [crew] Upgrade equipped to this ship.\n\nRemove 1 Disabled Token or all [time] Tokens from the target [crew] Upgrade.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C348",
        set: &["75006"],
        name: "Mr. Spock",
        cost: 4,
        text: "<b>COMBAT PHASE:</b> Discard this card and spend a [scan] Token beside this ship.\n\nThis ship's attacks cannot be cancelled this game round and this ship cannot be prevented from attacking this game round.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C347",
        set: &["75006"],
        name: "M'ress",
        cost: 3,
        text: "<b>WHEN A [battlestations] TOKEN IS PLACED BESIDE THIS SHIP:</b>\n\nRemove a Disable Token from a [crew] Upgrade equipped to this ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C353",
        set: &["75006"],
        name: "Montgomery Scott",
        cost: 3,
        text: "<b>ACTION: </b>Disable this card.\n\nRepair up to 1 Shield and 1 Hull on this ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C354",
        set: &["75006"],
        name: "Arex",
        cost: 2,
        text: "<b>WHEN THIS SHIP REVEALS ITS MANEUVER DIAL: </b>Disable this card.\n\nRotate this ship's maneuver dial to a White or Green maneuver of the same speed as the maneuver revealed and perform that maneuver instead.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C346",
        set: &["75006"],
        name: "Kali",
        cost: 3,
        text: "<b>ACTION:</b> Discard this card and target an opposing ship. \n\nLook at all face down damage cards beside the target ship's Ship Card. Flip 1 of those Damage Cards face up and resolve its effect if applicable.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Range(1, 1), UpgradeConstraint::ShipKlingon],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C356",
        set: &["75006"],
        name: "Kaz",
        cost: 2,
        text: "<b>WHEN A KLINGON [crew] UPGRADE EQUIPPED TO THIS SHIP OR ANOTHER FRIENDLY SHIP WITHIN RANGE WOULD BE DISCARDED BY AN OPPOSING EFFECT:</b> \n\n You may discard this card instead.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Range(1, 1), UpgradeConstraint::ShipKlingon],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C344",
        set: &["75006"],
        name: "Vendorian Spy",
        cost: 4,
        text: "<b>ACTIVATION PHASE:</b> Target a [crew] Upgrade equipped to a friendly ship.\n\nThis card becomes a copy of the target [crew] Upgrade this game round.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C349",
        set: &["75006"],
        name: "Harcourt Fenton Mudd",
        cost: 3,
        text: "You do not pay a faction penalty for this card. \n-----------------------------------\n<b>PLANNING PHASE:</b> Disable this card and target an opposing ship.\n\nPlace a Love Crystal Token on two [crew] Upgrades equipped to the opposing ship.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E192",
        set: &["75004"],
        name: "Maquis Tactics",
        cost: 5,
        text: "<b>AFTER ATTACKING:</b>\n\nThis ship may perform a 1 [straight], 1 [bank-left] or  1 [bank-right] maneuver.\n(<i>Maquis Raider Only</i>)",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::CaptainIndependent, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E191",
        set: &["75004"],
        name: "Andorian Imperial Guard",
        cost: 2,
        text: "May only be equipped to Thy'lek Shran or an Andorian Captain.\n-----------------------------------\n<b>WHEN ATTACKING WITH AN Independent [weapon] UPGRADE:</b> Place 2 [time] Tokens on this card.\nThis ship rolls additional attack dice this attack equal to the number of [time] Tokens on the Independent [weapon] Upgrade being used.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Complex],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E190",
        set: &["75004"],
        name: "Vidiian Sodality",
        cost: 1,
        text: "May only be equipped to a Vidiian Captain.\n<b>WHEN THIS SHIP OR A CARD EQUIPPED TO IT DISABLES OR DISCARDS A [crew] UPGRADE EQUIPPED TO AN OPPOSING SHIP:</b>\nPlace 1 Mission Token on this card.\n----------------------------------------\n<b>WHEN AN INDEPENDENT [crew] UPGRADE OR CAPTAIN EQUIPPED TO THIS SHIP WOULD BE DISCARDED:</b>\nYou may discard 1 Mission Token on this card instead.</b>",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::ShipLimit, UpgradeConstraint::Complex],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T251",
        set: &["75004"],
        name: "Particle Synthesis",
        cost: 4,
        text: "<b>WHEN DEFENDING:</b> Before the Roll Attack Dice Step:\n\nYou may roll exactly 1 defense die that cannnot be re-rolled or modified. If you roll a [blank] , the attacking ship must choose a new legal target for the attack. If no other target can be chosen the attack is cancelled and this card must be discarded.\n<i>(Dauntless Class only)</i>",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::ShipLimit, UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T184",
        set: &["75004"],
        name: "Enhanced Shield Emitters",
        cost: 5,
        text: "Increase this ship's Shield Value by 2.\n-----------------------------------\n<b>COMBAT PHASE:</b> You may flip up to 2 Disabled Shield Tokens on this ship to their Active sides.\n-----------------------------------\n<b>END PHASE:</b> You may repair 1 Shield on this ship.\n\n<i>(Andorian Battle Cruiser Only)</i>",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::ShipLimit, UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T183",
        set: &["75004"],
        name: "Class 4 Cloaking Device",
        cost: 4,
        text: "<b>ACTION:</b> Place 2 [time] Tokens on this card.\n\nPerform a [cloak] Action as a Free Action even if its not on this ship's Action Bar. Then this ship may perform the [sensor-echo] Action as a Free Action even if its not on its Action Bar.\n(<i>Maquis Raider Only</i>)",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::ShipLimit, UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T182",
        set: &["75004"],
        name: "Inertial Compensators",
        cost: 2,
        text: "This ship must have a [come-about] maneuver on its maneuver dial to equip this card.\n----------------------------------------\n<b>AFTER PERFORMING A BANK OR TURN MANEUVER WITH A SPEED OF 2 OR GREATER:</b> Place an [aux] token beside this ship. \nRotate this ship 180 degrees even if this ships base overlapped another ships base.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::HullConstraint("3-")],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W194",
        set: &["75004"],
        name: "Enhanced Phasers",
        cost: 3,
        text: "<b>AFTER THIS SHIP ATTACKS WITH ITS PRIMARY WEAPON:</b>\n\nThis ship may make an attack with its Primary Weapon targeting a different opposing ship in its Primary Firing Arc.\n\n(Note: Ship must have Primary Weapon 2 or less)",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::AttackConstraint("2-")],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W193",
        set: &["75004"],
        name: "Hypothermic Charge",
        cost: 4,
        text: "<b>ATTACK:</b> Place 2 [time] Tokens on this card and target an opposing ship.\n\nAll damage inflicted by this attacks ignores the defending ship's Shields. If the defending ship has no Active Shields, you may re-roll any number of your Attack Dice\n(<i>Vidiian Battle Cruiser Only</i>)",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Attack("3"), UpgradeConstraint::ShipLimit, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q015",
        set: &["75004"],
        name: "Repurposed Cargo Hold",
        cost: 2,
        text: "This card counts as a [crew] Upgrade, [tech] Upgrade, or [weapon] Upgrade.\n\nAdd one [tech] or [weapon] Upgrade to this ships Upgrade Bar.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipIndependent],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C340",
        set: &["75004"],
        name: "Tarah",
        cost: 5,
        text: "<b>ACTION:</b> Remove this card from play and target an opposing ship. \n\nDiscard a Captain Card or Admiral Card equipped to that ship.\n\n(<i>Andorian Battle Cruiser</i>)",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1), UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C339",
        set: &["75004"],
        name: "Michael Jonas",
        cost: 3,
        text: "<b>PLANNING PHASE:</b> Place 2 [time] Tokens on this card and target an opposing ship.\n\nThe target ship cannot perform a maneuver with a speed greater than 2 this game round.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C338",
        set: &["75004"],
        name: "Teero Anaydis",
        cost: 3,
        text: "<b>PLANNING PHASE:</b> Target a [crew] Upgrade equipped to an opposing ship.\nPlace 1 [time] Token on the target [crew] Upgrade.\n----------------------------------------\n<b>END PHASE</b> Target a [crew] Upgrade with a [time] Token on it equipped to an opposing ship.\nAdd 1 [time] Token to the target [crew] Upgrade instead of removing 1 [time] Token.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C337",
        set: &["75004"],
        name: "Motura",
        cost: 2,
        text: "<b>ACTION:</b> Discard this card and target an opposing ship.\n\nDiscard 1 [crew] Upgrade equipped to the target ship. This ship may perform a maneuver on its dial with a speed of 3 or less. If it does it cannot attack this game round.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C336",
        set: &["75005"],
        name: "James T. Kirk",
        cost: 4,
        text: "<b>ACTIVATION PHASE:</b> Place 3 [time] Tokens on this card. Increase the Captain Skill of the Captain equipped to this ship by 2 this game round and perform a [battlestations] Action as a free Action.",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Talents("1"), UpgradeConstraint::Specialisation],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C335",
        set: &["75005"],
        name: "Mr. Spock",
        cost: 4,
        text: "<b>ACTIVATION PHASE:</b> Place 3 [time] Tokens on this card. Increase the Captain Skill of the Captain equipped to this ship by 2 this game round and perform a [scan] Action as a free Action.",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Talents("1"), UpgradeConstraint::Specialisation],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C334",
        set: &["75005"],
        name: "Hikaru Sulu",
        cost: 3,
        text: "<b>WHEN THIS SHIP WOULD SUFFER DAMAGE FROM AN OBSTACLE OR MINEFIELD TOKEN:</b> Place 3 [time] Tokens on this card and roll 3 defence dice.\n\nFor each [evade] cancel 1 [hit] or [crit].",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Specialisation],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C333",
        set: &["75005"],
        name: "Montgomery Scott",
        cost: 3,
        text: "<b>PLANNING PHASE:</b> Place 3 [time] Tokens on this card.\n\nRepair 1 Shield on this ship and flip this card.",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Specialisation],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C332",
        set: &["75005"],
        name: "Montgomery Scott",
        cost: 3,
        text: "<b>PLANNING PHASE:</b> Place 3 [time] Tokens on this card.\n\nRepair 1 Hull on this ship and flip this card.",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Specialisation],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C331",
        set: &["75005"],
        name: "Leonard Mccoy",
        cost: 3,
        text: "<b>WHEN A CAPTAIN EQUIPPED TO THIS SHIP WOULD BE DISABLED:</b>\nPlace 3 [time] Tokens on this card instead.\n----------------------------------------\n<b>WHEN A CAPTAIN EQUIPPED TO THIS SHIP WOULD BE DISCARDED:</b>\nPlace 2 [time] Tokens on this card and the Captain that would be discarded instead.",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Specialisation],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C330",
        set: &["75005"],
        name: "Leonard Mccoy",
        cost: 3,
        text: "<b>SETUP:</b>\nPlace 1 [crew] Upgrade with a printed cost of 4 SP or less face down beneath this card.\n----------------------------------------\n<b>ACTIVATION PHASE:</b>\nFlip the [crew] Upgrade beneath this card face up and equip it to this ship even if it exceeds this ship's restrictions. Place 3 [time] Tokens on that [crew] Upgrade.",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Specialisation],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C329",
        set: &["75005"],
        name: "Pavel Chekov",
        cost: 2,
        text: "<b>ACTIVATION PHASE:</b> Place 3 [time] Tokens on this card.\n\nRemove 1 [aux] Token beside this ship.",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Specialisation],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C328",
        set: &["75005"],
        name: "Pavel Chekov",
        cost: 2,
        text: "<b>COMBAT PHASE:</b> Place 3 [time] Tokens on this card and target an opposing ship.\n\nRemove 1 [scan] Token beside the target ship.",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Specialisation, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C327",
        set: &["75005"],
        name: "Nyota Uhura",
        cost: 3,
        text: "<b>WHEN THIS CARD IS FLIPPED FACE UP OR AFTER THIS SHIP SUFFERS CRITICAL DAMAGE:</b>\n\nDiscard all face up \"Communications Failure\" damage cards beside this ship's Ship Card.",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Specialisation],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C326",
        set: &["75005"],
        name: "Nyota Uhura",
        cost: 3,
        text: "<b>ACTIVATION PHASE:</b> Place 3 [time] Tokens on this card and target this ship or a friendly ship.\n\nIncrease the Range of all Upgrades equipped to the target ship by 1 this game round (Max Range 3).",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Specialisation, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E189",
        set: &["75005"],
        name: "Overwhelm",
        cost: 4,
        text: "<b>WHEN ATTACKING:</b> Place 2 [time] Tokens on this card. \nThis game round, for each other friendly ship that attacked the defending ship this game round, this ship rolls +1 attack die and may convert 1 [blank] into 1 [battlestations].",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::ShipKlingon, UpgradeConstraint::CaptainKlingon],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T181",
        set: &["75005"],
        name: "Portable Transwarp Beaming Device",
        cost: 2,
        text: "<b>WHEN A [crew] UPGRADE EQUIPPED TO THIS SHIP WOULD BE DISCARDED:</b> Discard this card and target a friendly ship.\n\nInstead, place 1 [time] Token on the [crew] Upgrade that would be discarded and equip it to the target ship, even if it exceeds that ship's restrictions.",
        factions: &["mirror-universe"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T180",
        set: &["75005"],
        name: "Integrated Future Technology",
        cost: 3,
        text: "You do not pay Faction Penalty when equipping Romulan or Borg [tech] and/or [weapon] Upgrades to this ship.\n<b>SETUP:</b>Place 1 [tech] Upgrade with a printed cost of 4 SP or less face down beneath this card.\n\n<b>PLANNING PHASE:</b> Discard this card.\nFlip the [tech] Upgrade beneath this card face up and equip it to this ship even if it exceeds this ships restrictions.",
        factions: &["mirror-universe"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T179",
        set: &["75005"],
        name: "Klingon Cloaking Device",
        cost: 2,
        text: "<b>WHEN DEFENDING:</b> If this ship is Cloaked:\n\nConvert 1 [blank] into 1 [evade].\n-----------------------------------\n<b>END PHASE:</b> Place 3 [time] Tokens on this card.\n\nFlip this ship's [cloak] Token to its green side.",
        factions: &["mirror-universe", "klingon"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipKlingon],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C325",
        set: &["75005"],
        name: "Klingon Guard",
        cost: 2,
        text: "<b>COMBAT PHASE:</b> Discard this card.\n\nPlace 1 [evade] Token beside this ship.",
        factions: &["mirror-universe", "klingon"],
        constraints: &[UpgradeConstraint::ShipKlingon],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C324",
        set: &["75005"],
        name: "Klingon Patrol",
        cost: 2,
        text: "<b>END PHASE:</b> If this ship is not in the Primary Firing Arc of an opposing ship within Range:\n\nFlip this ship's [cloak] Token to its green side.",
        factions: &["mirror-universe", "klingon"],
        constraints: &[UpgradeConstraint::ShipKlingon, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C323",
        set: &["75005"],
        name: "Klingon First Officer",
        cost: 4,
        text: "<b>END PHASE:</b> Once per game, discard the Captain equipped to this ship.\n\nPerfrom an attack with this ship's Primary Weapon. This card becomes this ship's Captain with a Captain Skill of 4.",
        factions: &["mirror-universe", "klingon"],
        constraints: &[UpgradeConstraint::ShipKlingon, UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C322",
        set: &["75005"],
        name: "Koth",
        cost: 2,
        text: "<b>SETUP:</b> Place 1 Disabled Token on 1 [crew] upgrade equipped to each opposing ship.",
        factions: &["mirror-universe", "klingon"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::ShipKlingon],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W192",
        set: &["75005"],
        name: "Advanced Long Range Torpedo",
        cost: 3,
        text: "The Attack Value of this [weapon] is this ships Primary Weapon Value +1.\n-----------------------------------\n<b>ATTACK:</b> Spend this ships  [target-lock] Token, place 2 [time] Tokens on this card, and target an opposing ship.\n\nIf the attack hits, every other ship within Range 1 of the opposing ship suffers 1 [hit].\n(<i>Constitution Class (Kelvin) Only</i>)",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::Attack("0"), UpgradeConstraint::Range(2, 3), UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W191",
        set: &["75005"],
        name: "Photon Torpedoes",
        cost: 3,
        text: "The Attack Value of this [weapon] is this ships Primary Weapon Value +1.\n-----------------------------------\n<b>ATTACK:</b> Spend this ships   [target-lock] Token, place 3 [time] Tokens on this card, and target an opposing ship.\n\nIf the defending ship has no Active Shields and is not Cloaked, convert all [battlestations] into [crit].",
        factions: &["mirror-universe", "klingon"],
        constraints: &[UpgradeConstraint::Attack("0"), UpgradeConstraint::RearArc, UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W190",
        set: &["75005"],
        name: "Disruptor Volley",
        cost: 3,
        text: "<b>ATTACK</b>:Disable this card and Target an opposing ship.\n\nThis attack deals no damage. If this attack his place an [aux] Token beside the defending ship. If the defending ship is an Attack Squadron, discard 1 Attack Squadron Token (AST) for each uncancelled [hit] or [crit].</b>\n(<i>Warbird Class Only</i>)",
        factions: &["mirror-universe", "klingon"],
        constraints: &[UpgradeConstraint::ShipLimit, UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W189",
        set: &["75005"],
        name: "Full Spread Phasers",
        cost: 4,
        text: "<b>WHEN ATTACKING WITH THIS SHIP'S PRIMARY WEAPON:</b>\n\nThis ship rolls +1 attack die, or this ship may perform an additional attack with its Primary Weapon from its Secondary Firing Arc with -1 attack die.\n(<i>Constitution Class (Kelvin) Only</i>)",
        factions: &["mirror-universe", "federation"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D032",
        set: &["73041"],
        name: "Lead Squadron",
        cost: 5,
        text: "\nAdd 1 [squadron] Upgrade to this Attack Squadrons Upgrade Bar.\n-----------------------------------\nAdd the [battlestations] Action to this Attack Squadrons Action Bar.\n-----------------------------------\nIncrease the Captain Skill of this Attack Squadron by 2.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D033",
        set: &["73041"],
        name: "Anti-Squadron Barrage",
        cost: 3,
        text: "\n<b>ATTACK:</b> Discard this card and target an opposing Attack Squadron.<br><br>Perform 1 attack against the target Attack Squadron for every 2 Attack Squadron Tokens (ASTs) on the target Attack Squadron's Ship Card (rounded down).",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D031",
        set: &["73041"],
        name: "Flanking Maneuver Epsilon",
        cost: 3,
        text: "\n<b>AFTER THIS ATTACK SQUADRON PERFORMS A MANEUVER:</b> Place 3 [time] Tokens on this card.\n\nPerform a [sensor-echo] Action using a 1 [straight] Maneuver Template as a Free Action even if this Attack Squadron is not Cloaked.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D030",
        set: &["73041"],
        name: "Defensive Maneuver Alpha",
        cost: 1,
        text: "\nThis Attack Squadron obstructs attacks targeting friendly ships.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D029",
        set: &["73041"],
        name: "Defensive Maneuver Beta",
        cost: 2,
        text: "<b>WHEN A FRIENDLY CAPITAL SHIP IS DEFENDING:</b> Discard this card and remove up to 2 ASTs from this Attack Squadron, and target that friendly Capital Ship.\n\nFor Each AST removed, cancel 1 [hit] against the target ship. ",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D028",
        set: &["73041"],
        name: "Defensive Maneuver Theta",
        cost: 3,
        text: "<b>COMBAT PHASE:</b> Discard this card and target all friendly Capital Ships.\n\nPlace an [evade] Token beside this Attack Squadron and all target ships.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D027",
        set: &["73041"],
        name: "Flanking Maneuver Delta",
        cost: 2,
        text: "\n<b>AFTER THIS ATTACK SQUADRON PERFORMS A [bank-left] or [bank-right] MANEUVER:</b> Discard this card and place an [aux] Token beside this Attack Squadron. \n\nRotate this Attack Squadron 180 degrees.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D026",
        set: &["73041"],
        name: "Flanking Attack Omega",
        cost: 4,
        text: "\n<b>COMBAT PHASE:</b> Discard this card and target a friendly Capital Ship.\n\nThe target ship rolls +3 attack dice this game round. This Attack Squadron cannot attack this game round.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q014",
        set: &["73042"],
        name: "Optronic Data Core",
        cost: 4,
        text: "This card counts as a [tech] or [weapon] Upgrade.\n<b>ACTIVATION PHASE:</b> Place 3 [time] Tokens on this card.\nPerform the Action on a <b>?</b> Upgrade equipped to this ship as a Free Action.\n-----------------------------------\n<b>ACTIVATION PHASE:</b> Disable this card.\nRemove a Disable Token from a <b>?</b> Upgrade equipped this ship.",
        factions: &["federation", "independent"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E188",
        set: &["73042"],
        name: "The Lone Hunt",
        cost: 3,
        text: "<b>WHEN ATTACKING:</b> If there are no friendly ships within range of this ship:\n\nThis ship rolls +1 Attack die this game round.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E187",
        set: &["73042"],
        name: "Relics",
        cost: 4,
        text: "Can only be equipped to Karr or a Hirogen Captain.\n\n<b>WHEN ATTACKING:</b> Once per game round, when this ship hits an opposing ship with an attack:\nPlace 1 Mission Token on this card (max 3).\n\n<b>ACTIVATION PHASE:</b> Spend 1 Mission Token on this card.\nPerform an Action on this ship's Action Bar as a Free Action.",
        factions: &["independent"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T178",
        set: &["73042"],
        name: "Tractor Beam",
        cost: 3,
        text: "<b>ACTION:</b> Target an opposing ship. \n\nThe target ship treats all White Maneuvers as Red Maneuvers and all Green Maneuvers as White Maneuvers this game round.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T177",
        set: &["73042"],
        name: "Stealth Mode",
        cost: 3,
        text: "<b>ACTIVATION PHASE:</b> Place 2 [time] Tokens on this card. \nPerform a [sensor-echo] Action as a Free Action even if this ship is not Cloaked\n\n(<i>Hirogen Warship Only</i>)",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W188",
        set: &["73042"],
        name: "Subnucleonic Beams",
        cost: 3,
        text: "<b>ATTACK:</b> Place 2 [time] Tokens on this card and target an opposing ship.\n\nFor each uncancelled [hit] or [crit], you may disable 1 [crew] Upgrade equipped to the target ship (max 3).\n\n(<i>Non-Hirogen Warship Costs +5 SP</i>)",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 2), UpgradeConstraint::ShipLimitNumber("+5")],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C321",
        set: &["73042"],
        name: "Donik",
        cost: 2,
        text: "This ship cannot be targeted by [weapon] Upgrades fried though a Secondary Firing Arc.\n\n(<i>Hirogen Warship Only</i>)",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C320",
        set: &["73042"],
        name: "Beta Hirogen",
        cost: 3,
        text: "Increase the Captain Skill of the Captain equipped to this ship by 1.\n----------------------------------------\n<b>WHEN THIS SHIP PERFROMS A [scan] ACTION:</b>\n\nPlace an additional [scan] Token beside this ship.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E186",
        set: &["72321"],
        name: "Kal-If-Fee",
        cost: 1,
        text: "<b>ACTION:</b> Disable this card and target an opposing ship\n\nSelect a [crew] on this ship. The controller of the target ship selects a [crew] on that ship. Each player rolls five attack dice. Whichever player rolls fewer [crit] and/or [hit] results must discard the [crew] they selected.",
        factions: &["vulcan"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E185",
        set: &["73032"],
        name: "Victory Is Life",
        cost: 6,
        text: "<b>COMBAT PHASE:</b> Discard this card, target this ship, and target all friendly Dominion ships.\n\nPlace a [battlestations] Token beside all target ships. All target ships roll +1 attack die this game round.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T176",
        set: &["73032"],
        name: "Cloning Facility",
        cost: 4,
        text: "<b>ACTIVATION PHASE:</b> Target a Dominion [crew] Upgrade equipped to this ship or a friendly ship.\n\nThis card becomes a copy of the target Dominion [crew] Upgrade this game round.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T175",
        set: &["73032"],
        name: "Antiproton Blast",
        cost: 2,
        text: "<b>ACTIVATION PHASE:</b> Discard this card, target this ship and target all friendly ship.\n\nThe target ships can target opposing ships with a [cloak] Token beside them with a  [target-lock] Action this game round.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C319",
        set: &["73032"],
        name: "Changeling Infiltrator",
        cost: 4,
        text: "<b>ACTIVATION PHASE:</b> Target a [crew] Upgrade equipped to an opposing ship.\n\nThis card becomes a copy of the target [crew] Upgrade this game round.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C318",
        set: &["73032"],
        name: "Elim Garak",
        cost: 1,
        text: "<b>WHEN ATTACKING:</b> If the defending ship shares a faction with this ship or this card:\n\n1[hit] or 1[crit] cannot be cancelled.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C317",
        set: &["73032"],
        name: "Seskal",
        cost: 4,
        text: "<b>COMBAT PHASE:</b> If all this ships Shields have been destroyed, disable this card.\n\nThis ship rolls +2 attack dice this game round.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W187",
        set: &["73032"],
        name: "Tactical Command Reticle",
        cost: 2,
        text: "Add 1 [weapon] to this ships Upgrade Bar\n-----------------------------------\n<b>COMBAT PHASE:</b> Place 2 [time] Tokens on this card.\n\nThis ship rolls +1 attack die this game round.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipDominion],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E184",
        set: &["73031"],
        name: "Gorn Hegemony",
        cost: 4,
        text: "This card may only be equipped to S'Sesslak or a Gorn Captain.\n-----------------------------------\n<b>ACTION:</b> Discard this card and treat the Captain Skill of the Captain equipped to this ship as 0 this game round.\nThis ship may make 2 attacks instead of 1 this game round.\n(<i>Gorn Raider Only</i>)",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q013",
        set: &["73031"],
        name: "Meridor - Gorn Ale",
        cost: 2,
        text: "This Upgrade may be equipped to a ship without requiring an Upgrade slot.\n-----------------------------------\n<b>ACTIVATION PHASE:</b> Place 3 [time] Tokens on this card.\n\nDecrease the Captain Skill of the Captain equipped to this ship by up to 2 this game round, and increase this ship's Primary Weapon Value by the same amount this game round.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipIndependent],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C316",
        set: &["73031"],
        name: "Slar",
        cost: 5,
        text: "<b>ACTION:</b> Remove this card from play and target an opposing ship.\n\nDisable 1 [crew] Upgrade equipped to the target ship and deal 1 [crit] to the target ship's Hull.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C315",
        set: &["73031"],
        name: "Gorn Pilot",
        cost: 3,
        text: "<b>ACTION:</b> If this ship performed a [straight] Maneuver this game round disable this card.\n\nPerform a 1 [straight] Maneuver",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C314",
        set: &["73031"],
        name: "Gorn Trooper",
        cost: 2,
        text: "For each Gorn Trooper Equipped to this ship, Increase the Captain Skill of the Captain equipped to this ship by 1.\n-----------------------------------\n<b>WHEN ATTACKING:</b> Disable this card.\n\nRe-Roll 1 attack die.",
        factions: &["independent"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W186",
        set: &["73031"],
        name: "Hidden Explosives",
        cost: 3,
        text: "<b>SETUP:</b> Target an opposing ship. Place a Hidden Explosives Token on the target ship and place 4 [time] Tokens on this card.\n-----------------------------------\n<b>WHEN THERE ARE NO MORE [time] TOKENS ON THIS CARD:</b> you must discard this card. Roll 3 attack dice that cannot be re-rolled or modified. All [hit] and [crit] deal damage to the ships Hull. Discard the Hidden Explosives Token after the attack is made.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T174",
        set: &["73031"],
        name: "Enhanced Durability",
        cost: 4,
        text: "Add 1 [tech] to this ships Upgrade Bar.\n-----------------------------------\nIncrease this ship's Shield and Agility Values by 1.\n\n<i>(Gorn Raider Only)</i>",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T173",
        set: &["73031"],
        name: "Gorn Sensors",
        cost: 3,
        text: "<b>WHEN THIS SHIP ATTACKS WITH ITS PRIMARY WEAPON AT RANGE 1:</b>\nRange combat bonuses are doubled\n-----------------------------------\n<b>WHEN THIS SHIP ATTACKS WITH A [weapon] UPGRADE AT RANGE 1:</B>\nApply Range combat bonuses.\n<i>(Gorn Raider)</i>",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W185",
        set: &["73031"],
        name: "Disruptor Bombardment",
        cost: 2,
        text: "<b>ATTACK:</b> Place 3 [time] Tokens on this card, place a Mission Token within Range 1-2 and target all opposing ships within Range 1 of the Mission Token.\n\nMake a separate attack roll against each target ship. This attack cannot be obstructed by Obstacles or Planets. Discard the Mission Token after the attack is made.\n<i>(Gorn Raider Only)</i>",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit, UpgradeConstraint::FrontArc, UpgradeConstraint::Attack("4")],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E183",
        set: &["75003"],
        name: "Grand Nagus",
        cost: 2,
        text: "<b>ACTION:</b> Discard this card and target all friendly Ferengi ships.\n\nAll target ships may perform a Green Maneuver.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::CaptainFerengi, UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T172",
        set: &["75003"],
        name: "Kemocite",
        cost: 2,
        text: "<b>ACTIVATION PHASE:</b> When you reveal this ship's Maneuver.\nYou may increase the speed of the Maneuver by 2. The color of the Maneuver remains the same as the revealed Maneuver.\n-----------------------------------\n<b>WHEN ATTACKING:</b> Discard this card.\nAdd 1 [hit].",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T171",
        set: &["75003"],
        name: "T-9 Energy Converter",
        cost: 2,
        text: "<b>END PHASE:</b> Disable this card and remove an [aux] Token beside this ship.\n\nRepair 1 Shield on this ship.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W184",
        set: &["75003"],
        name: "Weapon Ports",
        cost: 2,
        text: "<b>IF THIS CARD IS DISABLED:</b>\nThis ship rolls -1 defense dice\n-----------------------------------\n<b>ATTACK:</b> Disable this card and target an opposing ship.\nThis attack deals no damage. If this attack hits an Attack Squadron discard 1 Attack Squadron Token for each uncanceled [hit] or [crit].",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Range(1, 3), UpgradeConstraint::FrontArc, UpgradeConstraint::Attack("3")],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W183",
        set: &["75003"],
        name: "Photon Torpedoes",
        cost: 2,
        text: "The Attack Value of this [weapon] is this ship's Primary Weapon Value\n-----------------------------------\n<b>ATTACK:</b> Place 2 [time] Tokens on this card and target an opposing ship.\n\nPlace an [aux] Token beside the target ship.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Range(1, 3), UpgradeConstraint::FrontArc, UpgradeConstraint::RearArc],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W182",
        set: &["75003"],
        name: "Verteron Pulse Trap",
        cost: 2,
        text: "<b>SETUP:</b>\nPlace a Minefield Token anywhere that is not within Range 1 - 2 of any edge of the play area.\n-----------------------------------\n<b>WHEN A SHIP MOVES WITHIN RANGE 1 OF THE MINEFIELD TOKEN:</b> Target that ship.\nPlace an [aux] Token beside the target ship.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C313",
        set: &["75003"],
        name: "Gegis",
        cost: 3,
        text: "<b>ACTION:</b> Place 2 [time] Tokens on this card and target a [tech] or <b>?</b> Upgrade equipped to another ship.\n\nPlace 3 [time] Tokens on the target Upgrade.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C312",
        set: &["75003"],
        name: "Par Lenor",
        cost: 3,
        text: "<b>WHEN THIS SHIP WOULD BE DESTROYED BY AN ATTACK:</b> Equip this card to the attacking ship, even if it exceeds that ships restrictions with a number of GPLT on this card equal the the number of GPLT on the captain on this ship.\n-----------------------------------\n<b>ACTIVATION PHASE:</b> The opposing player may spend 1 GPLT on this card. Place 1 Disabled Token on an Upgrade equipped to this ship.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C311",
        set: &["75003"],
        name: "Letek",
        cost: 2,
        text: "<b>ACTION:</b> Discard this card an place 1 [aux] Token beside this ship.\n\nThis ship rolls +2 attack dice this game round.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C310",
        set: &["75003"],
        name: "Gral",
        cost: 1,
        text: "<b>END PHASE:</b> Discard this card or another [crew] Upgrade equipped to this ship.\n\nPlace 2 GPLT on the Captain equipped to this ship.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::CaptainFerengi],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C309",
        set: &["75003"],
        name: "Nava",
        cost: 1,
        text: "<b>WHEN A FERENGI [crew] UPGRADE WOULD BE DISCARDED FROM THIS SHIP:</b>\n\nPlace 1 GPLT on the Captain equipped to this ship.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::CaptainFerengi],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C308",
        set: &["75003"],
        name: "Grilka",
        cost: 1,
        text: "You do not pay a Faction Penalty when equipping this card to a Ferengi Ship.\n-----------------------------------\nOpposing effects that cost one or more GPLT cost +1 GPLT.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q012",
        set: &["75003"],
        name: "Bio-Mimetic Gel",
        cost: 3,
        text: "This card counts as a [tech] or [weapon] Upgrade.\n-----------------------------------\n<b>ACTIVATION PHASE:</b> Place 2 [time] Tokens on this card and target a [crew], [weapon], or [tech] Upgrade equipped to an another ship. Place 1 Bio-Mimetic Gel Token on the target Upgrade",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2), UpgradeConstraint::CountsAsUpgrade],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E182",
        set: &["73002"],
        name: "Neural Transponder",
        cost: 2,
        text: "<b>WHENEVER A [battlestations], [evade], [scan] OR [aux] TOKEN IS PLACED BESIDE THIS SHIP:</b> You must discard this card.\n\nEach other friendly ship within range that has a Neural Transponder Upgrade equipped to it must also place a token of the same type beside it if it does not already have one.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipBorg, UpgradeConstraint::CaptainBorg, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T190",
        set: &["73002"],
        name: "Technological Analysis",
        cost: 4,
        text: "<b>COMBAT PHASE:</b> Spend 1 Drone Token and target an opposing ship.\n\nDiscard 1 [battlestations], [evade], [scan], or  [target-lock] Token beside the target ship.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Range(1, 3), UpgradeConstraint::Arc360],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W181",
        set: &["73002"],
        name: "Tractor Beam",
        cost: 5,
        text: "The Attack Value of this [weapon] is equal to this ship's Primary Weapon Value.\n-----------------------------------\n<b>ATTACK:</b> Discard this card and target an opposing ship.\n\nFor each [crit] that would damage the defending ship's Hull, you may instead steal 1 [tech] or [crew] Upgrade from the defending ship ignoring this ship's restrictions.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Arc360, UpgradeConstraint::Attack("?")],
    }, StawUpgrade {
        upgrade_type: "borg",
        id: "B018",
        set: &["73002"],
        name: "Threat Analysis",
        cost: 1,
        text: "<b>ACTION:</b> Place 2 [time] Tokens on this card.\n\nPlace a [battlestations] Token beside this ship.",
        factions: &["borg"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C307",
        set: &["73002"],
        name: "One",
        cost: 4,
        text: "<b>ACTION:</b> Discard this card.\n\nFor each damage this ship suffers this game round, disable 1 of its Active Shields instead of destroying it. If this ship has no Active Shields, damage is applied normally.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C306",
        set: &["73002"],
        name: "'Second'",
        cost: 4,
        text: "<b>ACTIVATION PHASE:</b> Once per game, discard the Captain equipped to this ship.\n\nPerform an Action as a Free Action. Then, place 4 Drone Tokens on this card. This card becomes this ships Captain.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C305",
        set: &["73002"],
        name: "Neonatal Borg",
        cost: 2,
        text: "Add 1 [crew] to this ships Upgrade Bar.\n-----------------------------------\nIf this card is equipped to a Borg ship, you may have Borg [crew] Upgrades fill this ships [tech] or [borg] Upgrade Slots.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C304",
        set: &["73002"],
        name: "Mezoti",
        cost: 2,
        text: "<b>WHENEVER THE EFFECT OF A [crew] UPGRADE WOULD TARGET THIS SHIP:</b> Discard this card and target that [crew] Upgrade.\n\nDisable the target [crew] Upgrade and cancel its effect.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E181",
        set: &["73001", "75003"],
        name: "The Rules Of Acquisition",
        cost: 5,
        text: "<b>SETUP:</b>\n\n Place 6 Gold-Pressed Latinum Tokens (GPLT) on the Captain equipped to this ship.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::CaptainFerengi],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C303",
        set: &["73001"],
        name: "Arridor",
        cost: 3,
        text: "<b>ACTION:</b> Disable this card and disable the Captain equipped t this ship, and target a [crew] Upgrade equipped to another ship.\n\nPlace a number of [time] Tokens equal the the Captain Skill of the Captain equipped to this ship -2 on the target [crew] Upgrade.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C302",
        set: &["73001"],
        name: "Doctor Reyga",
        cost: 3,
        text: "<b>ACTION:</b> Discard this card.\n\nRemove a Disabled Token from a [tech] Upgrade equipped to this ship and repair 1 damage to this ships Shields.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C301",
        set: &["73001"],
        name: "Kol",
        cost: 2,
        text: "<b>END PHASE:</b> If there are no opposing ships within range, discard this card.\n\nPlace 1 Gold-Pressed Latinum Token (GPLT) on the Captain equipped to this ship.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2), UpgradeConstraint::CaptainFerengi],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W180",
        set: &["73001"],
        name: "Missile Launchers",
        cost: 3,
        text: "<b>ATTACK:</b> Disable this card and target an opposing ship.\n\nMake this attack twice. The second attack may target a different ship. Any [crit] deal damage to the defending ships Hull.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::Attack("2"), UpgradeConstraint::Range(1, 2), UpgradeConstraint::FrontArc, UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T170",
        set: &["73001"],
        name: "Metaphasic Shields",
        cost: 4,
        text: "Increase this ships Shield Value by 1.\n-----------------------------------\nDiscard this card when this ship has no Active Shields.\n-----------------------------------\n<b>WHEN THIS SHIP OVERLAPS AN OBSTACLE:</b>\nThis ship does not lose its Action, but it may only perform a Non-Free Action listed on its Action Bar.",
        factions: &["ferengi"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W179",
        set: &["72311p"],
        name: "Photonic Cannon",
        cost: 10,
        text: "<b>ATTACK:</b> Spend this ship's  [target-lock] Token and remove this card from play.\n\nThis ship suffers 2 [hit] to its Hull.\n\nThis [weapon] can only be fired out of this ships Primary Firing Arc.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Attack("10"), UpgradeConstraint::Range(3, 3), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E180",
        set: &["75002"],
        name: "All Power To Weapons",
        cost: 5,
        text: "<b>COMBAT PHASE:</b> Place 3 [time] Tokens on this card and disable this ship's Shields.\n\n<b>Continuous Effect:</b> This ship's Shields remain disabled. This ship can only perform Green Maneuvers. This ship rolls +3 attack dice.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::CaptainDominion, UpgradeConstraint::HullConstraint("5+")],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E179",
        set: &["75002"],
        name: "Spread Despair and Demoralization",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card and target all opposing ships.\n\nAll target ships roll -1 attack die and -1 defense die this game round.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T169",
        set: &["75002"],
        name: "Suicide Attack",
        cost: 5,
        text: "<b>ACTIVATION PHASE:</b> If this ship overlaps an opposing ship, target that ship and destroy this ship.\n\nDeal 2 [crit] to that target ships Hull.\n\n(<i>Jem'Hadar Attack Ship</i>)",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T168",
        set: &["75002"],
        name: "Secondary Matter System",
        cost: 3,
        text: "All 2 [bank-left] 2 [bank-right], and 3 [straight] Maneuvers this ship performs are Green Maneuvers.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::ShipDominion],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W178",
        set: &["75002"],
        name: "Disruptor Cannon",
        cost: 3,
        text: "<b>ATTACK:</b> Spend this ships  [target-lock] Token, discard this card, and target an opposing ship.\n\nPerfrom this attack twice against the target ship.\n\n(<i>Jem'Hadar Battleship Only</i>)",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Attack("6"), UpgradeConstraint::Unique, UpgradeConstraint::ShipLimit, UpgradeConstraint::RearArc],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W177",
        set: &["75002"],
        name: "Photon Torpedoes",
        cost: 5,
        text: "<b>ATTACK:</b> Spend this ship's  [target-lock] Token, discard this card, and target an opposing ship that is not Cloaked and has no active Shields.\n\nThis ship may convert all [battlestations] into [hit]",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Range(2, 3), UpgradeConstraint::Attack("8"), UpgradeConstraint::FrontArc, UpgradeConstraint::RearArc],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W176",
        set: &["75002", "73032"],
        name: "Phased Polaron Beams",
        cost: 3,
        text: "<b>ATTACK:</b> Disable this card and target an opposing ship.\n\nThis attack ignores the target ship's Shields. This ship may convert 1 [battlestations] into 1 [hit].\n\n(<i>Jem'Hadar Attack Ship</i>)",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Attack("3"), UpgradeConstraint::OnePerShip, UpgradeConstraint::FrontArc, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W175",
        set: &["75002"],
        name: "Minesweeper",
        cost: 2,
        text: "<b>ACTIVATION PHASE:</b> When this ship would trigger a Minefield Token by moving, discard this card and target that Minefield Token.\n\nRoll 1 attack die and consult the chart below:\n[crit] or [hit]: Remove the target Minefield Token, Its effect does not trigger.\n[battlestations] or [blank]: The effect of the Minefield Token triggers normally.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Range(1, 1), UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W174",
        set: &["75002"],
        name: "Engery Dissipator",
        cost: 2,
        text: "<b>Attack:</b> Discard this card and target an opposing ship.\n\nFor each uncancelled [hit] or [crit], discard 1 [tech] Upgrade equipped to the target ship.\n\n(<i>Jem'Hadar Attack Ship</i>)",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Attack("3"), UpgradeConstraint::Unique, UpgradeConstraint::FrontArc, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C300",
        set: &["75002"],
        name: "Jem'Hadar First",
        cost: 3,
        text: "<b>MODIFY ATTACK DICE STEP OR MODIFY DEFENSE DICE STEP:</b> Place 3 [time] Tokens on this card.\n\nConvert 1 [battlestations] into 1 [blank], 1 [evade], or 1 [hit].\n\n<b>( ERRATA )</b>",
        factions: &["dominion"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C299",
        set: &["75002"],
        name: "Jem'Hadar Elder",
        cost: 3,
        text: "<b>END PHASE:</b> Place 3 [time] Tokens on this card.\n\n[battlestations] Token do not get removed from this ship this game round.",
        factions: &["dominion"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C298",
        set: &["75002"],
        name: "Duran'Adar",
        cost: 3,
        text: "Add 1 [tech] to this ships Upgrade Bar.\n-----------------------------\n<b>ACTIVATION PHASE:</b> After this ship reveals a Red Maneuver, place 3 [time] Tokens on this card.\n\nThis ship does not receive [aux] Tokens this game round.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C297",
        set: &["75002"],
        name: "Talak'Talan",
        cost: 2,
        text: "<b>ACTION:</b> Discard this card and target all friendly ships.\n\nPlace a [battlestations] Token beside this ship and all target ships.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Unique, UpgradeConstraint::ShipDominion],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C296",
        set: &["75002"],
        name: "Lamat'Ukan",
        cost: 2,
        text: "<b>WHEN ATTACKING:</b> If this ship spent its [target-lock] Token to re-roll its attack dice:\n\nThis ship may convert 1 [blank] into 1 [hit].",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T167",
        set: &["75001"],
        name: "Quantum Stasis Module",
        cost: 3,
        text: "<b>ACTIVATION PHASE:</b> Discard this card and target a Captain or [crew] Upgrade equipped to an opposing ship.\n\nThe target Captain or [crew] Upgrade cannot perform Actions this game round.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T166",
        set: &["75001"],
        name: "Auxiliary Power Core",
        cost: 3,
        text: "When this card has 2 or more [aux] Tokens on it, discard it.\n-----------------------------\n<b>WHEN AN [aux] TOKEN WOULD BE PLACED BESIDE THIS SHIP:</b>\nPlace that [aux] Token on this card instead.\n\n(<i>Non-Romulan cost +2 SP more</i>)",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::HullConstraint("4+"), UpgradeConstraint::CostRomulan("+2")],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T165",
        set: &["75001"],
        name: "Reinforced Shields",
        cost: 1,
        text: "<b>WHEN THIS SHIP SUFFERS 3 OR MORE DAMAGE FROM A SINGLE ATTACK:</b>\n\nRepair 1 Shield.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::HullConstraint("5+")],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E178",
        set: &["75001"],
        name: "Strike From The Shadows",
        cost: 3,
        text: "<b>WHEN ATTACKING:</b> If this ship is Cloaked, discard this card.\n\nFlip this ships [cloak] Token to its green side.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E177",
        set: &["75001"],
        name: "Tal Shiar",
        cost: 2,
        text: "<b>PLANNING PHASE:</b> After all ships have chosen their Maneuvers, discard this card and target an opposing ship. \nLook at the target ship's Maneuver Dial and place a [battlestations] Token beside this ship. This ship cannot perform a [battlestations] Action this game round.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::CaptainRomulan, UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W173",
        set: &["75001"],
        name: "Disruptor Beams",
        cost: 5,
        text: "<b>ATTACK:</b> Place 3 [time] Tokens on this card and target an opposing ship.\n\nFor each [hit] or [crit] the defending ship suffers, roll 1 attack die. If you roll at least 1 [hit] or [crit], the defending ships suffer 1 additional [hit].",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W172",
        set: &["75001"],
        name: "Forward Disruptor Banks",
        cost: 3,
        text: "<b>IF THIS SHIP PERFORMED A 2 [bank-left], [bank-right] OR 3 [bank-left], [bank-right] MANEUVER THIS GAME ROUND::</b>\n\nThis ship rolls +1 Attack die this game round.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W171",
        set: &["75001"],
        name: "Additional Weapons Array",
        cost: 3,
        text: "<b>WHEN ATTACKING:</b>\n\nThis ship rolls +1 attack die.\n\n(<i>D'Deridex Class</i>)",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C295",
        set: &["75001"],
        name: "Romulan Medical Team",
        cost: 3,
        text: "<b>ACTION:</b> Discard this card and target a friendly ship.\n\nRemove 1 Disabled Token from all [crew] Upgrades equipped to the target ship.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C294",
        set: &["75001"],
        name: "Romulan Spy",
        cost: 2,
        text: "<b>START OF THE GAME:</b> Target all friendly Romulan ships.\n\nPlace a [cloak] Token on the base of all the target ships.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C293",
        set: &["75001"],
        name: "Tal Shiar Sub-Commander",
        cost: 2,
        text: "<b>WHEN ATTACKING:</b> If this ship has an [evade] Token beside it:\n\nThis ship may convert 1 of the defending ship's [evade] into a [blank] .",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C292",
        set: &["75001"],
        name: "Parem",
        cost: 1,
        text: "<b>PLANNING PHASE:</b> Discard this card and target a friendly ship.\n\n[tech] Upgrades equipped to the target ship cannot be affected by opposing effects this game round.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C291",
        set: &["75001"],
        name: "Bochra",
        cost: 1,
        text: "<b>ACTIVATION PHASE:</b> Discard this card.\n\nThis ship activates last this game round.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E176",
        set: &["2017core"],
        name: "Riker Maneuver",
        cost: 4,
        text: "<b>WHEN DEFENDING:</b> If the attacking ship is not in this ships Primary Firing Arc, discard this card.\n\nRemove all  [target-lock] and [battlestations] Tokens beside the attacking ship. Place an [aux] beside this ship and the attacking ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E175",
        set: &["2017core"],
        name: "Make It So",
        cost: 3,
        text: "<b>ACTION:</b> Discard this card.\n\nThis ship may perform two Actions on Admiral Cards, Captain Cards, and/or [crew] Upgrades equipped to it as a Free Actions.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T164",
        set: &["2017core"],
        name: "Reinforced Bulkheads",
        cost: 3,
        text: "<b>WHEN DEFENDING:</b> When this ship receives a face up Damage Card:\n\nTurn that Damage Card face down unless it is a \"Warp Core Breach\".",
        factions: &["klingon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T163",
        set: &["2017core"],
        name: "Exocomp",
        cost: 4,
        text: "<b>PLANNING PHASE:</b> Place 2 [time] Tokens on this card.\n\nRepair 1 damage to this ship's Hull.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W170",
        set: &["2017core", "71510"],
        name: "Tactical Station",
        cost: 4,
        text: "Add 1 [weapon] to this ships Upgrade Bar.\n-----------------------------\n<b>WHEN ATTACKING:</b> Disable this card.\nThis ship rolls +1 attack die this game round.\n-----------------------------\n<b>WHEN ATTACKING:</b> Discard this card.\nThis ship rolls +2 attack dice this game round.\n<b>( ERRATA )</b>",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W168",
        set: &["2017core"],
        name: "Disruptor Cannon",
        cost: 2,
        text: "<b>ATTACK:</b> Disable this card and target an opposing ship.\n\nIf this defending ship has an [aux] Token beside it the ship rolls +1 attack die.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::RearArc, UpgradeConstraint::Range(1, 2), UpgradeConstraint::Attack("5")],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W167",
        set: &["2017core"],
        name: "Torpedo Fusillade",
        cost: 0,
        text: "The cost and Attack Value of this [weapon] are equal to this ship's Primary Weapon Value.\n-----------------------------------\n<b>ATTACK:</b> Remove this card from the game and target all opposing ships.\n\nMake a separate attack roll against each target ship.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::FrontArc, UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C290",
        set: &["2017core"],
        name: "Worf",
        cost: 5,
        text: "<b>WHEN ATTACKING:</b> If this ship is Cloaked:\n\nConvert all [blank] to [hit].",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::ShipKlingon],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C289",
        set: &["2017core"],
        name: "Kurn",
        cost: 4,
        text: "<b>ACTION:</b> Discard this card.\n\nEquip a [weapon] Upgrade with a cost of 5 SP or less that was discarded from this ship to this ship.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C288",
        set: &["2017core"],
        name: "Klingon Helmsman",
        cost: 3,
        text: "<b>ACTIVATION PHASE:</b> Place 2 [time] Tokens on this card.\n\nPerform a [scan] Action as a Free Action.",
        factions: &["klingon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C287",
        set: &["2017core"],
        name: "Toral",
        cost: 2,
        text: "<b>WHEN DEFENDING:</b>\n\nThis ship may convert 1 [battlestations] into 1 [evade].",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C286",
        set: &["2017core"],
        name: "Klingon Bekk",
        cost: 1,
        text: "<b>WHEN ATTACKING:</b> Discard this card.\n\nConvert 1 [hit] into 1 [crit].",
        factions: &["klingon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C285",
        set: &["2017core"],
        name: "Geordi La Forge",
        cost: 3,
        text: "<b>ACTIVATION PHASE:</b> After this ship reveals its Maneuver, place 2 [time] Tokens on this card.\n\nThis ship may increase or decrease the speed of the revealed Maneuver by 2. The color of the Maneuver (Red, White, Green) is the same as the revealed Maneuver. This ship cannot perform an Action the game round this effect is activated.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C284",
        set: &["2017core"],
        name: "Miles O'Brien",
        cost: 2,
        text: "<b>PLANNING PHASE:</b> Disable this card.\n\nRemove a Disable Token from a [tech] or [weapon] Upgrade equipped to this ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C283",
        set: &["2017core"],
        name: "Deanna Troi",
        cost: 2,
        text: "<b>PLANNING PHASE:</b> After all ships have chosen their Maneuver, discard this card and target two opposing ships.\n\nLook at the Maneuver dials of the target ships. Then, this ship may change its chosen Maneuver. The  target ships' Maneuvers may not be changed for the rest of the game round.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C282",
        set: &["2017core"],
        name: "Beverly Crusher",
        cost: 3,
        text: "<b>ACTIVATION PHASE:</b> Disable this card.\nRemove a Disabled Token from a [crew] Upgrade equipped to this ship.\n-----------------------------\n<b>ACTION:</b> Discard this card.\nEquip a [crew] Upgrade with a cost of 4 SP or less that was discarded from this ship to this ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C281",
        set: &["2017core"],
        name: "Christopher Hobson",
        cost: 2,
        text: "<b>WHEN ATTACKING:</b> If the defending ship is Cloaked:\n\nThe defending ship rolls -2 defense dice.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E174",
        set: &["2017core"],
        name: "Blood Oath",
        cost: 3,
        text: "<b>ACTION:</b> Discard this card, target a Captain equipped to an opposing ship, and target the Captain equipped to this ship.\nThe controllers of the target Captains both roll 5 attack dice. Whoever rolls the most [battlestations], re-rolling ties, adds +2 to their target Captain's Captain Skill for the rest of the game. The other player must discard their target Captain.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::CaptainKlingon, UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E173",
        set: &["2017core"],
        name: "Today Is A Good Day To Die",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card.\n\nAll ships may convert all [hit] into [crit] this game round.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T162",
        set: &["72302p"],
        name: "Sabotaged Systems",
        cost: 3,
        text: "<b>PLANNING PHASE:</b> Discard this card and target an opposing ship.\n\nSwap the Primary Weapon Value and Agility of the target ship until the end of the game round.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Range(1, 3), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C280",
        set: &["72012wp"],
        name: "Tellarite Bounty Hunter",
        cost: 1,
        text: "<b>WHEN THIS CARD WOULD BE DISCARDED:</b>\n\n Discard an [evade] Token beside an opposing ship.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W166",
        set: &["72014wp"],
        name: "Triphasic Emitters",
        cost: 2,
        text: "<b>SETUP:</b> Choose a Non-Borg [weapon] Upgrade with a cost of 5 SP or less and place it face down beneath this card.\n<b>ATTACK:</b> Discard this card.\n\nFlip the card that is beneath this card face up and perform the attack listed on that card (if possible). After the attack resolves, discard that card.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Attack("?"), UpgradeConstraint::RangeOther("?"), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T161",
        set: &["72014wp"],
        name: "Propulsion Matrix",
        cost: 3,
        text: "<b>ACTIVATION PHASE:</b> If this ship reveals a 3 [straight] Maneuver:\n\nThis ship may perform a 4 [straight] or a 5 [straight] Maneuver instead. If it does, place an [aux] Token beside this ship.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T160",
        set: &["72014wp"],
        name: "Repair Protocol",
        cost: 4,
        text: "<b>END PHASE:</b> Place 3 [time] Tokens on this card.\n\nRepair 1 damage to this ship's Shields or Hull.\n<i>(Romulan Drone Ship Only)</i>",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W165",
        set: &["72014wp"],
        name: "Tellarite Disruptor Banks",
        cost: 3,
        text: "<b>ATTACK:</b> Place 3 [time] Tokens on this card.\n\nIf there is at least 1 uncancelled [hit], modify the defender's Agility Value by -1 until the end of the game round.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 3), UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T159",
        set: &["72014wp"],
        name: "Evasive Protocol",
        cost: 3,
        text: "<b>COMBAT PHASE:</b> If this ship is in the Primary or Secondary Firing Arc of an opposing ship, place 3 [time] Tokens on this card.\n\nPerform a [sensor-echo] Action as a Free Action. If this ship does, also remove an opposing  [target-lock] Token from this ship.\n<i>(Romulan Drone Ship Only)</i>",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T158",
        set: &["72014wp"],
        name: "Disguise Protocol",
        cost: 4,
        text: "<b>WHEN DEFENDING:</b> Place 3 [time] Tokens on this card.\n\nThe attacking ship rolls -2 attack dice.\n<i>(Romulan Drone Ship Only)</i>",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W164",
        set: &["72013wp"],
        name: "Thoron Shock Emitter",
        cost: 2,
        text: "<b>ATTACK:</b> Discard this card.\n\nThis ship may re-roll any number of attack dice.\n\n(<i>Cardassian ATR-4107</i>)",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Attack("6"), UpgradeConstraint::Range(1, 3), UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W163",
        set: &["72013wp"],
        name: "Plasma Wave",
        cost: 3,
        text: "<b>ATTACK:</b> Place 2 [time] Tokens on this card and target all opposing ships. \n\n\n(<i>Cardassian ATR-4107</i>)",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 1), UpgradeConstraint::Unique, UpgradeConstraint::ShipLimit],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W162",
        set: &["72013wp"],
        name: "Plasma Pulse",
        cost: 3,
        text: "<b>Attack:</b> Discard this card.\n\nThe defending ship cannot spend [battlestations] or [evade] Tokens\n\n<b>WHEN DEFENDING:</b> Discard this card\n\nThe attacking ship suffers 1 [crit].",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Attack("4"), UpgradeConstraint::OnePerShip, UpgradeConstraint::FrontArc, UpgradeConstraint::RearArc],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W161",
        set: &["72013wp"],
        name: "Quantum Torpedoes",
        cost: 3,
        text: "<b>Attack:</b>Spend this ship's  [target-lock] Token and place 2 [time] Tokens on this card. \n\nIf this attack hits, add 1 [hit] or add 2 [hit] if this [weapon] is equipped to a Cardassian ATR-4107.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Range(2, 3), UpgradeConstraint::Attack("5"), UpgradeConstraint::FrontArc, UpgradeConstraint::RearArc],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q011",
        set: &["72013wp"],
        name: "Captured",
        cost: 1,
        text: "This Upgrade does not require an Upgrade Slot\n\nThis ship gains the Independent Faction.\n\n<b>WHEN DEFENDING:</b> If the attacking ship shares a Faction with this ship other than Independent:\n\nThe attacking ship rolls +1 attack dice",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T157",
        set: &["72013wp"],
        name: "B'Elanna's Codes",
        cost: 3,
        text: "<b>IF ONE OR MORE [time] TOKENS WOULD BE PLACED ON A [weapon] UPGRADE EQUIPPED TO THIS SHIP:</b>\nPlace those [time] Tokens on this card instead.\n\n<b>WHEN A [weapon] UPGRADE EQUIPPED TO THIS SHIP WOULD BE DISCARDED:</b>\nDiscard this Card instead.</b>",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T156",
        set: &["72013wp"],
        name: "Final Stage Targeting",
        cost: 3,
        text: "This ship can only target ships that it has a [target-lock] Token on.\n\n<b>WHEN ATTACKING:</b>\nDefending ships must skip the Modify Defense Dice step.",
        factions: &["dominion"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T155",
        set: &["72013wp"],
        name: "Shield Adaptation",
        cost: 5,
        text: "Discard this card if this ship has no active Shields.\n\n<b>WHEN DEFENDING:</b> The attacking ship rolls -2 attack dice when firing a Primary Weapon and -1 when firing a [weapon] Upgrade.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::HullConstraint("4+")],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C279",
        set: &["72013wp"],
        name: "B'Elanna Torres",
        cost: 1,
        text: "<b>WHEN ATTACKING:</b>\n\nThis ship may re-roll 1 [blank] . If the defending ship is a Dominion Ship, this ship may also convert 1 [blank] into 1 [hit].",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E172",
        set: &["72012wp"],
        name: "DNA Encoded Message",
        cost: 5,
        text: "<b>SETUP:</b> Place 3 Klingon [talent] Upgrades face down beneath this card.\n<b>ACTIVATION PHASE:</b> Discard this card.\nFlip 1 of the Klingon [talent] Upgrades beneath this card face up and equip it to the Captain equipped to this ship, even if it exceeds this ship's restrictions. Remove the other 2 face down Klingon [talent] Upgrades from the game.\n<b>( ERRATA )</b>",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C278",
        set: &["72012wp"],
        name: "Goroth",
        cost: 2,
        text: "Add 1 [crew] to this ships Upgrade Bar.\n\n<b>ACTION:</b> Discard this card and discard 1 [crew] Upgrade, and target an opposing ship.\n\nDisable the Captain equipped to the target ship. ",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C277",
        set: &["72012wp"],
        name: "Kolos",
        cost: 3,
        text: "<b>IF THE CAPTAIN EQUIPPED TO THIS SHIP WOULD BE DISABLED OR DISCARDED:</b>\n\nDiscard this card instead. ",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W160",
        set: &["72012wp"],
        name: "Photon Torpedoes",
        cost: 2,
        text: "<b>ATTACK:</b> If this ship has a  [target-lock] Token on the defending ship, place 2 [time] Tokens on this card.\n\nThis ship my convert 1 [battlestations] into a [crit].",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3), UpgradeConstraint::FrontArc, UpgradeConstraint::RearArc],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T154",
        set: &["72012wp"],
        name: "Dispersive Armor",
        cost: 4,
        text: "<b>WHEN DEFENDING:</b> Disable this card.\n\nThis game round, replace the attacking ship's Primary Weapon Value with 4. For the remainder of the game round, the attacking ship's Primary Weapon Value can not be replaced or modified.",
        // faq:true,
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::OnePerShip, UpgradeConstraint::HullConstraint("3+")],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T153",
        set: &["72012wp"],
        name: "Reactor Pit",
        cost: 3,
        text: "<b>PLANNING PHASE:</b> Disable this card.\n\nRemove an [aux] Token from beside this ship. ",
        factions: &["klingon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q010",
        set: &["72012wp"],
        name: "Photon Detonation",
        cost: 3,
        text: "This card counts as either a [tech] Upgrade or a [weapon] Upgrade.\n\n<b>ACTION:</b> Disable this card, place 3 [time] Tokens on a Photon Torpedoes Upgrade equipped to the ship, and target a Minefield Token\n\nRemove the Minefield Token from play. ",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::CountsAsUpgrade],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E171",
        set: &["72011wp"],
        name: "Captain's Discretion",
        cost: 4,
        text: "<b>FREE ACTION:</b> Discard this card.\n\nPerform the Action of a [crew] Upgrade equipped to this ship.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C276",
        set: &["72011wp"],
        name: "David Marcus",
        cost: 3,
        text: "<b>IF A [crew] UPGRADE EQUIPPED TO THIS SHIP WOULD BE DISCARDED:</b>\nDiscard this card instead.\n\n<b>WHEN DEFENDING:</b> Discard this card. Add 1 [evade].",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C275",
        set: &["72011wp"],
        name: "Saavik",
        cost: 1,
        text: "<b>WHEN DEFENDING:</b> If this ship is within Range of a Planet token.\n\nThis ship may convert one [blank] into 1 [evade].",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C274",
        set: &["72011wp"],
        name: "Federation Helmsman",
        cost: 3,
        text: "<b>ACTION:</b> Place an [aux] Token beside this ship.\n\nPerform a White 1 [straight], 1 [bank-left] or 1 [bank-right] Maneuver.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T152",
        set: &["72011wp"],
        name: "Comm Station",
        cost: 4,
        text: "Add 1 [crew] to this ship's Upgrade Bar.\n\n<b>ACTIVATION PHASE:</b> Disable this card and target a friendly ship.\n\nThis game round, replace the Captain Skill on this ship's Captain with the Captain Skill of the target ship's Captain.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T151",
        set: &["72011wp"],
        name: "Close-Range Scan",
        cost: 3,
        text: "<b>ACTIVATION PHASE:</b> If this ship performed a [scan] Action, disable 1 Shield.\n\nPlace a [scan] Token beside this ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T150",
        set: &["72011wp"],
        name: "Genesis Effect",
        cost: 2,
        text: "<b>SETUP:</b> Place 1 [crew] Upgrade with a cost of 5 SP or less face down beneath this card.\n\n<b>END PHASE:</b> If this ship is within Range 1-3 of a Planet Token, disable all of its Shields.\n\nFlip the [crew] Upgrade beneath this card face up, place 2 [time] Tokens on it and equip it to this ship, even if it exceeds its restrictions. ",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Range(1, 3), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C273",
        set: &["72011wp", "71801"],
        name: "William T. Riker",
        cost: 4,
        text: "Modify the Captain Skill of the Captain equipped to this ship by +3.\n<b>IF THE CAPTAIN EQUIPPED TO THIS SHIP IS DISABLED OR DISCARDED:</b>\nThis ship's Captain Skill is 5.\n<b>IF THIS SHIP RECEIVES A FACE UP 'COMMUNICATIONS FAILURE' OR 'INJURED CAPTAIN' DAMAGE CARD:</b>\nFlip that damage card face down.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C272",
        set: &["72301rp"],
        name: "Data",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card and target an opposing ship.\n\nRoll one attack die and consult the below chart:\n[crit]:Discard a card of your choice on the target ship.\n[battlestations]: Discard the Captain of the target ship.\n[hit]:Discard a [crew] on the target ship,\n[blank] : Nothing happens.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Range(1, 2), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E170",
        set: &["72300p"],
        name: "Quick Thinking",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to immediately perform a [sensor-echo] Action, even if your ship is not cloaked.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T149",
        set: &["72300p"],
        name: "Impulse Thrusters",
        cost: 4,
        text: "<b>ACTION</b> If your ship executed a [straight] maneuver with a speed of 3 or less this round, disable this card to immediately execute an additional 1 [straight] maneuver.\n\nNo ship may be equipped with more than one \"Impulse Thrusters\" Upgrade.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W159",
        set: &["72300p"],
        name: "Pulse Phased Weapons",
        cost: 5,
        text: "<b>ATTACK:</b> Place 3 Time Tokens on this card to perform this attack. Make 2 separate attacks with this weapon. These attacks are defended against separately and may be used against different ships.\n\nYou may only fire this weapon from your forward firing arc and may not increase the number of dice rolled in your attack.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Range(1, 1), UpgradeConstraint::Attack("3")],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C271",
        set: &["72300p"],
        name: "B'Elanna Torres",
        cost: 3,
        text: "If your ship ends its move overlapping another ship's base, you may discard this card to perform an Action from your ship's Action Bar.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W158",
        set: &["72290p"],
        name: "Aft Photon Torpedoes",
        cost: 4,
        text: "<b>ATTACK: Target Lock</b> Spend your target lock and place 3 Time Tokens on this card to perform this attack.\nYou may convert 1 of your [battlestations] results into a [crit] result.\nYou may only target a ship that is not in your forward firing arc with this attack.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Range(2, 3), UpgradeConstraint::Attack("4")],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C270",
        set: &["72290p"],
        name: "Assault Team",
        cost: 5,
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all of your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard this card to place 2 Time Tokens on all Upgrades on the target ship that do not already have Time Tokens on them.",
        factions: &["mirror-universe"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C269",
        set: &["72290p"],
        name: "Charles Tucker III",
        cost: 4,
        text: "<b>ACTION:</b> Disable this card to remove up to 2 Disabled Upgrade Tokens or up to 4 Time Tokens from any of your [tech] or [weapon] Upgrades.",
        factions: &["mirror-universe"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C268",
        set: &["72290p"],
        name: "T'Pol",
        cost: 4,
        text: "<b>ACTION:</b> Discard this card to target a ship within Range 1-3. Disable 1 [crew] Upgrade and/or 1 [tech] or [weapon] Upgrade on the target ship.",
        factions: &["mirror-universe"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E169",
        set: &["72293"],
        name: "Patience is for the Dead",
        cost: 5,
        text: "At the start of the Combat Phase, before any ships have attacked, you may discard this card to attack before all other ships. You cannot roll any defense dice during the round you use this ability.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W157",
        set: &["72293"],
        name: "Xindi Torpedoes",
        cost: 3,
        text: "<b>ATTACK:</b> Target Lock, Spend your target lock and place 3 Time Tokens on this card to perform this attack.\n\nIf fired from a Xindi Reptilian Warship add +1 attack dice.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W156",
        set: &["72293"],
        name: "Particle Beam Weapon ",
        cost: 0,
        text: "<b>ATTACK:</b> The Attack Value of this weapon is equal to the ship's Primary Weapon Value +1.\n\nThis Upgrade may only be purchased for a Xindi ship and the SP cost is equal to the ship's Primary Weapon Value.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Attack("*"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C267",
        set: &["72293"],
        name: "Reptilian Analysis Team",
        cost: 5,
        text: "Add 1 [tech] Upgrade to your Upgrade Bar.\nWhen you are supposed to disable a [tech] Upgrade, you may disable this card instead and place 3 Time Tokens on the [tech] Upgrade. (2 Time Tokens if it is a Xindi [tech] Upgrade).\n\nThis Upgrade may only be purchased for a Xindi ship and no ship may be equipped with more than one 'Reptilian Analysis Team' Upgrade.",
        factions: &["xindi"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T148",
        set: &["72293"],
        name: "Thermal Chamber",
        cost: 3,
        text: "<b>ACTION:</b> Remove all Disabled Upgrade Tokens from all of your Xindi [crew] Upgrades and add +4 to your Captain Skill number for this round.\n\nThis Upgrade may only be purchased for a Xindi-Reptilian warship.",
        factions: &["xindi"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T147",
        set: &["72293"],
        name: "Sensor Encoders",
        cost: 3,
        text: "When defending, you may disable this card to re-roll 1 of your defense dice.\nIf a friendly ship is destroyed, you may discard this card. If you do so, your ship gains +1 Agility for the rest of the game. \n\nThis Upgrade may only be purchased for a Xindi-Reptilian warship and no ship may be equipped with more than one \"Sensor Encoders\" Upgrade.",
        factions: &["xindi"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E168",
        set: &["72284p"],
        name: "Dispersal Pattern Sierra",
        cost: 5,
        text: "When attacking with Photon Torpedoes, during the Declare Target Step you may discard this card to target 2 or 3 different ships in your forward firing arc with this attack. If you target 2 different ships, each attack is at -1 attack die. If you target 3 different ships, each attack is at -2 attack dice.",
        // faq:true,
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T146",
        set: &["72284p"],
        name: "Transporter",
        cost: 3,
        text: "<b>ACTION:</b> Disable this card to target a friendly ship within Range 1-2 and disable all remaining shields on both ships. Then switch 1 [crew] Upgrade between this ships.\n\nNo Ship may be equipped with more than one \"Transporter\" Upgrade.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W155",
        set: &["72284p"],
        name: "Aft Phaser Emitters",
        cost: 0,
        text: "<b>ATTACK:</b> You may fire this weapon from your rear firing arc. This attack value is equal to the ships Primary Weapon value -1\n\nThis Upgrade may only be purchased for a Federation ship with a Hull value of 4 or greater and the SP cost is equal to the ships Primary Weapon Value.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Attack("*"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C266",
        set: &["72284p"],
        name: "Natasha Yar",
        cost: 4,
        text: "Add 2 [weapon] Upgrade slots to your Upgrade Bar.\n\nWhen attacking, during the Modify Attack Dice step you may place 2 Time Tokens on this card to re-roll up to three of your attack dice.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W154",
        set: &["72281"],
        name: "Xindi Torpedoes",
        cost: 3,
        text: "<b>ATTACK:</b> Target Lock, Spend your target lock and place 3 Time Tokens on this card to perform this attack.\n\nIf fired from a Xindi Aquatic Cruiser add +1 attack dice.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T145",
        set: &["72281"],
        name: "Biometric Hologram",
        cost: 5,
        text: "When attacking, during the Roll Attack Dice step, you may discard this card to gain +2 attack dice. If the attack hits, disable all [crew] Upgrades on the defending ship.\n\nThis Upgrade may only be purchased for a Xindi ship and no ship may be equipped with more then one \"Biometric Hologram\" Upgrade.",
        factions: &["xindi"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T144",
        set: &["72281"],
        name: "Subspace Vortex",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to execute an additional 4[straight], 5[straight] or 6[straight] Maneuver. Place an Auxiliary Power Token beside your ship.\n\nThis Upgrade costs +5 for any non-Xindi ship.",
        factions: &["xindi"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T143",
        set: &["72281"],
        name: "Trellium-D",
        cost: 4,
        text: "Place 2 Mission Tokens on this card. During the Compare Results step, you may discard up to 2 of these Tokens to cancel one [hit] or [crit] result for each Token discarded.\n\nThis Upgrade costs +4 SP for any non-Xindi ship and no ship may be equipped with more than one \"Trellium-D\" Upgrade.",
        factions: &["xindi"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C265",
        set: &["72281"],
        name: "Raijin",
        cost: 4,
        text: "<b>ACTION:</b> Discard this card to target a ship at Range 1-3. Chose 1 Upgrade on the target ship and place 2 Time Tokens on that Upgrade.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E167",
        set: &["72281"],
        name: "Retaliation",
        cost: 5,
        text: "When another ship in your fleet is destroyed, discard this card to immediately make an attack with your Primary Weapon at -1 attack die. This attack is in addition to your normal attack for the round. If there is no ship to target with this additional attack, place a Mission Token on this card instead of discarding it. If you do this on your next attack discard this card to gain +3 attack dice for that attack. This Upgrade may only be purchased for a Xindi Captain assigned to a Xindi ship.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E166",
        set: &["72282gp"],
        name: "Klingon-Romulan Alliance",
        cost: 4,
        text: "If your ship is within Range 1-2 of a friendly Klingon or Romulan ship, you may discard this card to re-roll any number of your defense dice.\n\nThis card may only be fielded by a Klingon or Romulan Captain assigned to a Klingon or Romulan Ship.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E165",
        set: &["72282gp"],
        name: "Reverse Course",
        cost: 5,
        text: "During the Activation Phase, you may discard this card to disregard your chosen maneuver and execute a Full Astern [reverse] Maneuver with a speed of 1 or 2.\n\n<b>( ERRATA )</b>",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C264",
        set: &["72282gp"],
        name: "Tokath",
        cost: 2,
        text: "<b>ACTION:</b> Discard this card to remove 2 Disabled Upgrade Tokens from your other Upgrades.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T142",
        set: &["72282gp"],
        name: "Tachyon Pulse",
        cost: 4,
        text: "When defending, during the Roll Defense Dice step, you may disable this card to roll +1 defense die (+2 defense dice if the attacking ship has a [scan] Token beside it).\n\nNo ship may be equipped with more than one \"Tachyon Pulse\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E164",
        set: &["72282p"],
        name: "Interrogation",
        cost: 5,
        text: "When attacking, during the Roll Attack Dice step, you may discard this card to gain a number of attack dice equal to 1 plus the number of Upgrades on the defending ship (max +3).\n\nThis Upgrade may only be fielded by a Klingon Captain assigned to a Klingon Ship.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E163",
        set: &["72282p"],
        name: "Enemy Of The Empire",
        cost: 5,
        text: "When attacking, during the Roll Attack Dice step, you may discard this card to gain +1 attack die. If the defending ship is a Klingon ship or a ship with a Klingon Captain or Upgrade assigned to it, disable his card instead of discarding it.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C263",
        set: &["72282p"],
        name: "Kulge",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to disable your Captain Card and place a [battlestations] Token beside your ship.\n\nWhile your Captain Card is disabled your Captain Skill is \"0\" and your ship may perform the [battlestations] Action as if it were on your Action Bar.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T141",
        set: &["72282p"],
        name: "Aft Shields",
        cost: 4,
        text: "If you are not Cloaked and defending against an attack from a ship that is not in your forward firing arc, during the Compare Results step, you may discard this card to cancel up to 2 of attacking ship's [hit] or [crit] results. If you do so, place an Auxiliary Power Token beside your ship.\n\nNo ship may be equipped with more than one \"Aft Shields\" Upgrade.",
        factions: &["klingon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C262",
        set: &["72282p"],
        name: "Lursa",
        cost: 3,
        text: "You may perform a [cloak] or a [sensor-echo] Action as a free action, if your ship has the appropriate Action on its Action Bar\n\nIf B'Etor is the Captain of your ship, you may fill one of your [crew] Upgrade slots with this card and gain +4 to your Captain Skill.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Talents("1")],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C261",
        set: &["72282p"],
        name: "B'Etor",
        cost: 3,
        text: "A friendly ship within Range 1-2 of your ship may use the Action or Ability of your [talent] Upgrade as if it were assigned to that ship.\n\nIf Lursa is the Captain of your ship, you may fill one of your [crew] Upgrade slots with this card and gain +4 to your Captain Skill.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Talents("1"), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E162",
        set: &["72281p"],
        name: "On My Command",
        cost: 5,
        text: "During the Combat Phase, when it is your turn to attack, you may discard this card to delay your attack until after all other ships have completed their attacks, if you do so, roll +2 attack dice for your first attack during the round you use this ability.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C260",
        set: &["72281p"],
        name: "Toral",
        cost: 4,
        text: "During the Modify Defense Dice step, you may discard this card to re-roll up to 2 of your defense dice.\n\nIf this card is deployed to a Klingon Ship, you may disable it instead of discarding it.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T140",
        set: &["72281p"],
        name: "Auxiliary Power to Shields",
        cost: 4,
        text: "When defending, during the Deal Damage step, you may discard this card to immediately repair up to 2 of your Shields that were destroyed with that attack. Place 1 Auxiliary Power Token beside your ship for each Shield Token you repaired with this ability.\n\nNo ship may be equipped with more than one \"Auxiliary Power to Shields\" Upgrade.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q016",
        set: &["72281p"],
        name: "Course Change",
        cost: 4,
        text: "This card may fill a [crew], [talent], [tech], or [weapon] Upgrade slot. During the Activation Phase, when you reveal your maneuver, you may discard this card to change your maneuver to any maneuver on your Maneuver Dial.\n\nNo ship may be equipped with more than one 'Course Change' Upgrade.",
        factions: &["klingon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E161",
        set: &["72273"],
        name: "Thalen",
        cost: 5,
        text: "Add 1 [weapon] Upgrade slot to your Upgrade bar. If the additional [weapon] Upgrade is a Xindi [weapon] Upgrade, its cost is -2 SP.\n\nWhen firing a secondary weapon, you may disable this card to gain +1 attack die (max 6).",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E160",
        set: &["72273"],
        name: "Xindi Council",
        cost: 4,
        text: "Place 1 Mission Token on this card for each damage your ship suffers to its Hull or Shields (max 4).\nWhen attacking or defending, you may discard this card to re-roll a number of Mission Tokens on this card.\nThis card may only be fielded by a Xindi Captain assigned to a Xindi Ship.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C259",
        set: &["72273"],
        name: "Insecetoid Raiding Party",
        cost: 3,
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all of your remaining Shields and target a ship at range 1-2 that is not Cloaked and has no Active Shields. Discard this card to discard any Upgrade with a cost of 5 SP or less on the target ship. This Upgrade costs +5 SP if purchased for any ship other than a Xindi ship and no ship may be equipped with more than one 'Insectoid Raiding Party' Upgrade.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W153",
        set: &["72273"],
        name: "Pulse-Firing Particle Cannon",
        cost: 4,
        text: "<b>ATTACK:</b> Disable this card to perform this attack. You may only fire this weapon from your forward firing arc.\nIf this attack hits, you may immediately make a second attack with this weapon against the same target and -1 attack die. The target ship rolls 1 less defense die against the second attack.\nThis Upgrade costs +5 if purchased for a non-Xindi ship.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 3), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W152",
        set: &["72273"],
        name: "Xindi Torpedoes",
        cost: 2,
        text: "<b>ATTACK:</b> Target Lock: Spend your target lock and place 3 Time Tokens on this card to perform this attack.\n\nYou may only fire this weapon from your forward firing arc.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T139",
        set: &["72273"],
        name: "Hatchery",
        cost: 2,
        text: "Add 1 [crew] Upgrade slot to your Upgrade Bar. At the start of the game, during the Gather Forces step, place a Xindi [crew] Upgrade face down beneath this card. When one of your other [crew] Upgrades is discarded discard this card and flip the card beneath this card face up. That card is now deployed to your ship and may be used normally. This Upgrade may only be purchased for a Xindi ship and no ship may have more than one \"Hatchery\" Upgrade.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E159",
        set: &["72280p"],
        name: "Cry of the Warrior",
        cost: 5,
        text: "When attacking, during the Roll Attack Dice step, you may discard this card to gain +1 attack die for each opposing ship that has your ship in its forward firing arc (max +3). The next time your ship rolls defense dice roll -1 defense die for each additional attack die you gained with this ability.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E158",
        set: &["72280p"],
        name: "Aim and Fire!",
        cost: 5,
        text: "When attacking with your Primary Weapon, you may discard this card to target a ship at Range 1-2. The target ship cannot re-roll any of its defense dice against that attack.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C258",
        set: &["72280p"],
        name: "Worf",
        cost: 3,
        text: "When attacking a ship with no Active Shields, you may disable this card to gain +1 attack die. Your ship cannot roll any defense dice during the round in which you use this ability.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T138",
        set: &["72280p"],
        name: "Emergency Override",
        cost: 2,
        text: "<b>ACTION:</b> If you executed a green maneuver this round, disable this card to repair 1 of your Shields.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C257",
        set: &["72263"],
        name: "Demora Sulu",
        cost: 4,
        text: "If your ship is hit, after the Deal Damage phase, you may discard this card to immediately execute a maneuver from your Maneuver Dial with a speed of 3 or less.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T137",
        set: &["72263"],
        name: "Holo-Communicator",
        cost: 5,
        text: "<b>ACTION:</b> Disable this card and target a Captain equipped to a friendly ship.\n\nThis ship performs the Action listed on the target Captain as a Free Action.\n\n<b>( ERRATA )</b>",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T136",
        set: &["72263"],
        name: "Full Reverse",
        cost: 2,
        text: "During the Activation Phase if you reveal a [reverse] Maneuver, you may disable this card to add 1 to the speed of that maneuver.\n\nNo ship may be equipped with more than one \"Full Reverse\" Upgrade.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T135",
        set: &["72263"],
        name: "Deflector Control",
        cost: 5,
        text: "<b>ACTION:</b> Repair 1 Shield Token.\nOR\n Discard this card to flip up to 3 of your disabled Shield Tokens over to their Active Sides. You can not use this Action if your ship is Cloaked\n\nNo ship may be equipped with more than one \"Deflector Control\" Upgrade.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T134",
        set: &["72263"],
        name: "Resonance Burst",
        cost: 5,
        text: "When attacking during the Declare target step, you may discard this card to target a ship in your forward firing arc and within Range 1 of your ship. The target ship must discard 1 Token ([evade], [battlestations], [scan], or  [target-lock]) that is beside it of its choice. If there is a [cloak] Token beside the target ship, flip it over to its red side. No ship may be equipped with more than 1 \"Resonance Burs\" Upgrade.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W151",
        set: &["72263"],
        name: "Improved Phasers",
        cost: 3,
        text: "<b>ATTACK:</b> Place 2 Time Tokens on this card to perform this attack.\n\nTreat this as a attack with your Primary Weapon.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 3), ],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E157",
        set: &["72270p"],
        name: "Kuvah'Magh",
        cost: 5,
        text: "When attacking with your Primary Weapon, during the Roll Attack Dice step, you may discard this card to gain +1 attack die for that attack for every Klingon [crew] Upgrade deployed to your ship (max+3) Then suffer 1 critical damage to your Hull.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C256",
        set: &["72270p"],
        name: "Morak",
        cost: 5,
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable this card to repair 1 of your Shield Tokens\nOR\n<b>ACTION:</b> Discard this card to flip up to 3 of your Disabled Shields over to their Active sides. If you do this while you ship is Cloaked, flip your [cloak] Token to its red side.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C255",
        set: &["72270p"],
        name: "T'Greth",
        cost: 4,
        text: "<b>ACTION:</b> Place a [battlestations] Token beside your ship. Then place and Auxiliary Power Token beside your ship. You cannot perform a [battlestations] Action this round.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C254",
        set: &["72270p"],
        name: "Chrega",
        cost: 2,
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all of your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Disable this card and any 2 [crew] Upgrades of your choice on the target ship.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E156",
        set: &["72262p"],
        name: "Military Secrets",
        cost: 4,
        text: "When attacking, during the Roll Defense Dice step, you may discard this card to force the defending ship to roll 1 less defense die. -2 defense dice if that ship is Cloaked.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T133",
        set: &["72262p"],
        name: "Control Central",
        cost: 4,
        text: "After performing your Action, you may disable this card to perform one of the Actions on your Action Bar as a free Action.\n\nNo ship may be equipped with more then one \"Control Central\" Upgrade.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W150",
        set: &["72262p"],
        name: "Main Batteries",
        cost: 3,
        text: "Add 1 [weapon] Upgrade icon to your Upgrade Bar.\n\n<b>ATTACK:</b> Place 2 Time Tokens on this card to perform this attack. Treat this attack as if it were an attack made with a Primary Weapon. No ship may be equipped with more then one \"Main Batteries\" Upgrade.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C253",
        set: &["72262p", "72301rp"],
        name: "Nanclus",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to target an opposing ship.\n\n This game round, the target ship rolls +1 attack die this round but cannot roll defense dice.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Range(1, 3), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E155",
        set: &["72253"],
        name: "Galaxy Wing Squadron",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to target all friendly Galaxy-class ships within Range 1-2. Target ships gain +1 attack die this round.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W149",
        set: &["72253"],
        name: "Additional Phaser Arrays",
        cost: 5,
        text: "After you make an attack with your Primary Weapon, you may disable this card to make an additional attack with your Primary Weapon at -2 attack dice.\n\nNo ship may be equipped with more than 1 \"Additional Phaser Arrays\" Upgrade.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T132",
        set: &["72253"],
        name: "Maximum Warp",
        cost: 5,
        text: "<b>ACTION:</b> If you perform a [straight] Maneuver this round, you may disable this card to immediately perform an additional [straight] Maneuver with a speed of 2 or less. You cannot perform any free Actions this round.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T131",
        set: &["72253"],
        name: "High-Capacty Deflector Shield Grid",
        cost: 5,
        text: "If you have at least 1 Active Shield, during the Compare Results step you may discard this card to negate up to 2 damage.\n\nNo ship may be equipped with more than 1 \"High-Capacity Deflector Shield Grid\" Upgrade.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q017",
        set: &["72253"],
        name: "Computer Core",
        cost: 5,
        text: "You can fill a [crew] or [weapon] Upgrade slot with this Upgrade. Add 1 [tech] Upgrade to your Upgrade Bar.\n\n<b>ACTION:</b> You may re-roll any 1 die this round.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E154",
        set: &["72261p"],
        name: "Task Force",
        cost: 5,
        text: "<b>ACTION:</b> Choose a faction. All friendly ships within Range 1-2 of your ship gain +1 Attack die and roll +1 Defense die against ships of that faction for this round.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W147",
        set: &["72261p"],
        name: "High Yield Photon Torpedoes",
        cost: 6,
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and place 3 Time Tokens on this card to perform this attack.\n\nYou may convert 1 of your [battlestations] results into 1 [crit] result.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Attack("6"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T130",
        set: &["72261p"],
        name: "Deuterium Tank",
        cost: 3,
        text: "You may disable this card just before you move to treat a red maneuver as a white maneuver.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q009",
        set: &["72261p"],
        name: "Delta Shift",
        cost: 5,
        text: "This Upgrade may be assigned to any ship without requiring an Upgrade slot.\n\nWhen one of your [crew] Upgrades is supposed to be disabled or discarded, you may discard this card instead. No ship may be equipped with more than one \"Delta Shift\" Upgrade.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C252",
        set: &["72260p"],
        name: "Hikaru Sulu",
        cost: 3,
        text: "If you execute a red maneuver, you may disable this card instead of placing an Auxiliary Power Token beside your ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C251",
        set: &["72260gp"],
        name: "Leonard McCoy",
        cost: 4,
        text: "During the Activation Phase, after you move, you may discard this card to perform the Action listed on your ship's Captain Card as a free Action.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C250",
        set: &["72260gp"],
        name: "Valeris",
        cost: 3,
        text: "After your ship executes a green maneuver, you may perform an [evade] Action as a free Action.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W146",
        set: &["72260gp"],
        name: "Torpedo Bay",
        cost: 2,
        text: "Add 1 [weapon] Upgrade slot to your Upgrade Bar. This Upgrade must be filled with a Photon Torpedoes Upgrade.\n\nWhen Placing Time Tokens on one of your Photon Torpedoes Upgrades, if there are no Time Tokens on this card, you may place them on this card instead.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T129",
        set: &["72260gp"],
        name: "Isolation Door",
        cost: 3,
        text: "<b>ACTION:</b> Discard this card to flip over all critical damage assigned to your ship and then repair 1 damage to your ship's Hull.\n\nNo ship may be equipped with more then one \"Isolation Door\" Upgrade.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C249",
        set: &["72260p"],
        name: "Pavel Chekov",
        cost: 4,
        text: "At the end of the Activation Phase, you may disable this card and place an Auxiliary Power Token beside your ship to flip up to 2 of your disabled Shield Tokens (red) back to their Active sides (blue).",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C248",
        set: &["72260p"],
        name: "Montgomery Scott",
        cost: 4,
        text: "Add 1 Upgrade slot to your Upgrade bar ([tech] or [weapon]).\n\nAt any time, you may disable this card to remove an Auxiliary Power Token from beside your ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C247",
        set: &["72260p"],
        name: "Nyota Uhura",
        cost: 5,
        text: "At the start of the Combat Phase, you may discard this card to target all opposing ships within Range 1 of your ship. Each target ship must either discard a Token ([evade], [scan], or [battlestations]) that is beside it or place an Auxiliary Power Token beside it.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E153",
        set: &["72255"],
        name: "I Am The Borg",
        cost: 3,
        text: "<b>ACTION:</b> Discard this card to perform this Action. All friendly ships within Range 1-2 of your ship gain +1 attack die this round when attacking.\n\nThis Upgrade may only be assigned to the Borg Queen.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T128",
        set: &["72255"],
        name: "Temporal Vortex",
        cost: 5,
        text: "When defending, during the Compare Results step you may discard this card and spend 3 of your Drone Tokens to force the attacking ship to redo its attack. All of the dice (attack and defense) are rolled again. All cards and tokens that were used in the original attack remain used and cannot be used in the second attack. This Upgrade may only be purchased for a Borg ship.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "borg",
        id: "B017",
        set: &["72255"],
        name: "Borg Support Vehicle Dock",
        cost: 0,
        text: "This Upgrade may only be purchased for a Borg Cube. At the start of the game, place a Borg Support Vehicle token (BSVT) on one ship in your fleet.\n\n<b>ACTION:</b> If all of your ship's shields have been destroyed, you may discard this card and spend 1 Drone Token to make your support ship Active. Place an Auxiliary Power Token beside your ship. Your ship cannot attack this round.",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q008",
        set: &["72255"],
        name: "Borg Support Vehicle Token",
        cost: 0,
        text: "Attach to a Ship with a Hull Value of 7 or less.\n\nThis ship costs -10sp. If this ship is a Borg Sphere this ship costs -15sp.\n\n (Not a physical card, used internally on Utopia)",
        factions: &["borg"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E152",
        set: &["72236p"],
        name: "Retaliatory Strike",
        cost: 5,
        text: "If your ship was just damaged and the attacking ship is in your forward firing arc and within Range 2-3 of your ship, you may discard this card to immediately perform an attack against the attacking ship with one of your Photon Torpedoes Upgrades. You must discard the Photon Torpedoes Upgrade when your attack is completed. This attack is in addition to your normal attack for the round.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C246",
        set: &["72236p"],
        name: "Valkris",
        cost: 5,
        text: "<b>ACTION:</b> Target a ship at Range 1-3. Discard this card and disable 1 Upgrade on the target ship ([crew], [tech], or [weapon]). You may immediately use the Action listed on the Upgrade you disabled with this Action as if it were assigned to your ship.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C245",
        set: &["72236p"],
        name: "Torg",
        cost: 6,
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all of your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard this card and disable all Upgrades on the target ship. The target ship rolls -1 attack die and -1 defense die while any of its Upgrades remain disabled. Once there are no disabled Upgrades on the target ship, remove Torg's Continuous Effect Token from beside the target ship.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C244",
        set: &["72236p"],
        name: "Maltz",
        cost: 5,
        text: "<b>ACTION:</b> If your ship is not Cloaked, discard this card to target a friendly ship within Range 1-2 of your ship. Take up to 3 [crew] Upgrades from that ship and deploy them to your ship, even if it exceeds your ship's restrictions, OR take up to 3 [crew] Upgrades from your ship and deploy them to the target ship, even if it exceeds that ship's restrictions.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E151",
        set: &["72242"],
        name: "Command Pod",
        cost: 4,
        text: "When defending during the Compare Results step, you may discard this card to cancel any 1 die result.\n\nThis Upgrade may only be fielded by a Captain assigned to a D7-Class ship.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E150",
        set: &["72242"],
        name: "Cloaked Attack",
        cost: 5,
        text: "When attacking with your Primary Weapon during the Roll Attack Dice step, you may discard this card and spend your [cloak] Token to gain +2 attack dice.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C243",
        set: &["72242"],
        name: "Romulan Technical Officer",
        cost: 2,
        text: "<b>ACTION:</b> Disable this card to place a [scan] Token beside your ship. You cannot perform the [scan] Action as a free Action this round. \n\nThis Upgrade may only be purchased for a Romulan ship and no ship may be equipped with more than 1 \"Romulan Technical Officer\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W145",
        set: &["71278"],
        name: "Plasma Torpedoes",
        cost: 3,
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \n\nYou may re-roll all your blank results one time. \n\nYou may fire this weapon from your forward or rear firing arcs.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T127",
        set: &["72242"],
        name: "Impulse Drive",
        cost: 2,
        text: "You may disable this card when you perform a white maneuver if there is an Auxiliary Power Token beside your ship.  If you do so, you must still skip your Perform Action step. You may then remove an auxiliary power token from beside your ship. \nNo ship may be equipped with more than one \"Impulse Drive\" upgrade.\n<b>( ERRATA )</b>",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E149",
        set: &["72224gp"],
        name: "The Benefactor",
        cost: 5,
        text: "At the start of the game, place 3 Mission Tokens on this card.\n\nWhen you are required to place Time Tokens on one of your Upgrades, you may discard any number of Mission Tokens from this card to place 1 less Time Token for each Mission Token discarded. When there are no more Mission Tokens on this card, discard it.",
        factions: &["mirror-universe"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C242",
        set: &["72224gp"],
        name: "Daniels",
        cost: 5,
        text: "Whenever an opposing ship is required to place Time Tokens on one of its Upgrades, you may discard this card to force that ship to place 1 additional Time Token on that Upgrade.\nOR\nDuring the Combat Phase, you may discard this card to chose any number of dice and re-roll them.",
        factions: &["mirror-universe"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T126",
        set: &["72224gp"],
        name: "Temporal Conduit",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to redeploy one of your previously discarded Upgrade cards with a cost of 4 SP or less to your ship. Place 3 Time Tokens on that Upgrade.\n\nThis Upgrade costs +5 SP for any non-Mirror Universe ship.",
        factions: &["mirror-universe"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q020",
        set: &["72224gp"],
        name: "Temporal Observatory",
        cost: 6,
        text: "You may fill a [crew], [tech] or [weapon] Upgrade slot with his Upgrade.\n<b>ACTION:</b> Place 3 Time Tokens on this card. During the Planning Phase, after all ships have chosen their maneuvers, you may peek at a number of opposing maneuver dials equal to the number of Time Tokens on this card. You may then change your chosen maneuver. Discard this card after the last Time Token is removed.",
        factions: &["mirror-universe"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E148",
        set: &["72235p"],
        name: "Ceti Eel",
        cost: 6,
        text: "During the Combat Phase, you may discard this card to target a ship within Range 1-3 when it is that ship's turn to attack and force that ship to either; 1) attack any ship of your choice in its firing arc and within range, if possible, 2) not perform its attack and disable the Captain Card, or 3) perform its attack as normal and discard its Captain Card. The target ship must choose one of these options.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E147",
        set: &["72235p"],
        name: "Fire!",
        cost: 6,
        text: "When attacking with your Primary Weapon, during the Roll Attack Dice step, you may discard this card to gain +2 attack dice. If you do so, during the Modify Attack Dice step, you may re-roll up to 2 of your attack dice and then place an Auxiliary Power Token beside your ship.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C240",
        set: &["72235p"],
        name: "Joachim",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to add +3 to your Captain Skill Number until the End Phase of this round. If you attack first in the Combat Phase as a result of this, during the Compare Results step, you may convert 1 of your [hit] results into a [crit] result.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W143",
        set: &["72235p"],
        name: "All Power To Phasers",
        cost: 5,
        text: "When attacking with your Primary Weapon, during the Roll Attack Dice step, you may discard this card to gain +2 attack dice. If you do this you must disable all of your remaining Shields.",
        factions: &["independent"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E146",
        set: &["72241"],
        name: "Detonation Codes",
        cost: 4,
        text: "<b>ACTION:</b> Discard this card to target a Minefield Token within Range 1-3. Roll the number of attack dice listed on the mine's Upgrade Card minus 1. All ships within Range 1 of that Minefield Token suffer damage as normal from any [hit] or [crit] results. The affected ships do not roll any defense dice. Remove the Minefield Token after it is detonated.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T124",
        set: &["72241"],
        name: "Emergency Power",
        text: "During the Activation Phase, if there is an Auxiliary Power Token beside your ship, you may disable this card to either perform a Red Manveuer or perform an Action.\n\nNo ship may be equipped with more than 1 \"Emergency Power\" Upgrade.",
        factions: &["klingon"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T123",
        set: &["72241"],
        name: "Security Sensors",
        text: "If an enemy Upgrade or Captain targets your ship, immediately place an [evade] Token beside your ship, even if there is already one there.",
        factions: &["klingon"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C239",
        set: &["72241"],
        name: "Bo'Rak",
        cost: 5,
        text: "When attacking, during he Modify Defense Dice step, you may disable this card to force the defending ship to re-roll 1 of its defense dice of your choice.\n\nWhen defending, you may roll your full defense dice in spite of the presence of an opposing ship's [scan] Token.",
        factions: &["klingon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W142",
        set: &["72241"],
        name: "Photon Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and place 3 Time Tokens on this card to perform this attack. \n\nIf fired from a Vor'cha class ship add +1 attack die. ",
        factions: &["klingon"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E145",
        set: &["72234p"],
        name: "Standby Battle Stations",
        cost: 4,
        text: "During the Combat Phase, you may discard this card to replace 1 Token that is beside your ship ([evade] or [scan]) with a [battlestations] Token. \n\n This card may only be purchased for a ship that has the [battlestations] icon on its Action Bar",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C238",
        set: &["72234p"],
        name: "Damage Control Party",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to repair 1 damage to your ship's Hull or Shields.\n\nOR\n\nACTION:Disable this card to flip one Critical Damage Card that is assigned to your ship face down.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q007",
        set: &["72234p"],
        name: "Auxiliary Control Room",
        cost: 5,
        text: "You may fill a [tech] or [weapon] Upgrade slot with this card. No ship may be equipped with more than 1 'Auxiliary Control Room' Upgrade\n\nYou may disable this card to perform an Action while there is an Auxiliary Power Token beside your ship.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q006",
        set: &["72234p"],
        name: "Automated Distress Beacon",
        cost: 3,
        text: "You may fill a [crew], [tech] or [weapon] Upgrade slot with this card. No ship may be equipped with more than one \"Automated Distress Beacon\" Upgrade.\n\nACTION: Discard this card to target a ship in your fleet that is not within Range 1-3 of your ship. The target ship immediately performs an additional maneuver with a speed of 2 (straight bank or turn).\n <b>( ERRATA )</b>",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E144",
        set: &["72224p"],
        name: "Dominant Species",
        cost: 5,
        text: "When attacking, during the Modify Defense Dice step, you may discard this card to force the defending ship to re-roll up to 2 of its defense dice.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C237",
        set: &["72224p"],
        name: "Damron",
        cost: 4,
        text: "When attacking with your Primary Weapon, if your attack hits the target ship, you may spend your [target-lock] Token to discard 1 [crew] Upgrade on target ship.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W141",
        set: &["72224p"],
        name: "Photon Torpedoes",
        cost: 3,
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and place 3 Time Tokens on this card to perform this attack\r\n\r\nIf fired from a Xindi Reptilian warship add +1 attack die.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T122",
        set: &["72224p"],
        name: "Sensor Encoders",
        cost: 3,
        text: "If your ship is destroyed, all friendly ships within Range 1-3 of your ship roll +1 defense die the next time they defend.",
        factions: &["xindi"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E143",
        set: &["72233"],
        name: "Destabilized Relations",
        cost: 5,
        text: "When attacking a ship at Range 3, if there is another opposing ship within Range 1-2 of the target ship, the defending ship rolls -2 defense dice against your attack.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C236",
        set: &["72233"],
        name: "Reman Bodyguards",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to target a ship at Range 1. When attacking that ship with your Primary Weapon this round, gain +1 attack die and force the defending ship to roll -1 defense die.\r\n\r\nNo ship may be equipped with more than 1 \"Reman Bodyguards\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C235",
        set: &["72233"],
        name: "Nijil",
        cost: 5,
        text: "Add 1 [tech] Upgrade to your Upgrade Bar. That Upgrade costs -1 SP (min 1) and must be a Romulan [tech] Upgrade.\r\n\r\nACTION: When defending this round, during the Roll Defense Dice step, disable this card and one of your [tech] Upgrades to roll +1 defense die.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W140",
        set: &["72233"],
        name: "Disruptor Banks",
        cost: 4,
        text: "<b>ATTACK: </b>Place 3 Time Tokens on this card to perform this attack from your forward firing arcs\r\nOR\r\nWhen defending during the Roll Attack Dice step you may discard this card to force your opponent to roll -2 attack dice. No ship may be equipped with more than one \"Disruptor Banks\" Upgrade.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T121",
        set: &["72233"],
        name: "Prototype Cloaking Device",
        cost: 4,
        text: "<b>ACTION:</b> Disable this card to perform the [cloak] Action as a free Action, even if you have no Active Shields. Roll +1 attack die. On a [battlestations] result, your Hull sustains 1 Damage.  While your ship is Cloaked, you may perform the [sensor-echo] Action.\r\n\r\nThis Upgrade costs +5 SP for any non-Romulan ship and no ship may have more than 1 \"Prototype Cloaking Device\" Upgrade.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C234",
        set: &["72232"],
        name: "Klingon Helmsman",
        cost: 3,
        text: "<b>ACTION:</b> Discard this card to immediately perform an additional 1[come-about] or 2[come-about] Maneuver. Treat this as a red maneuver. \n\nThis card costs +5 SP for any non-Klingon ship and cannot be deployed to a ship the does not have a [come-about] Maneuver on its Maneuver Dial.",
        factions: &["klingon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C233",
        set: &["72232"],
        name: "Klingon Navigator",
        cost: 2,
        text: "During the Activation Phase, before you move, you may discard this card to disregard your chosen maneuver and perform any maneuver on your Maneuver Dial with a speed of 3 or less. Treat this maneuver as a red maneuver. \n\nNo ship may be equipped with more than on \"Klingon Navigator\" Upgrade.",
        factions: &["klingon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C232",
        set: &["72232"],
        name: "Klingon Tactical Officer",
        cost: 3,
        text: "When attacking with your Primary Weapon, during the Modify Attack Dice step, you may disable this card to spend your [evade] Token to convert 1 of your [battlestations] results into a [hit] result.",
        factions: &["klingon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W139",
        set: &["72232"],
        name: "Stand By Torpedoes",
        cost: 3,
        text: "You may disable this card instead of spending your Target lock when attacking with Photon Torpedoes. \n\nNo ship may be equipped with more than one \"Stand By Torpedoes\" Upgrade.",
        factions: &["klingon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C231",
        set: &["72231"],
        name: "Wesley Crusher",
        cost: 5,
        text: "During the Activation Phase, after you move, if there is an Auxiliary Power Token beside your ship, you may disable this card to perform an Action from your Action Bar.  <b>OR</b>  During the Activation Phase after you move you may disable this card to perform an Action listed on one of your [tech] Upgrades as a free Action.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W138",
        set: &["72231"],
        name: "Heavy Gravition Beam",
        cost: 4,
        text: "<b>ATTACK: </b>Discard this card to perform this attack. The defending ship rolls -1 defense die against this attack. \nYou may only fire this weapon from your forward firing arc. \nIf fired against a Borg ship add +3 attack dice to this attack. The defending Borg ship cannot roll any defense dice against this attack.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W137",
        set: &["72231", "72011", "72253", "71221", "71201", "72008"],
        name: "Photon Torpedoes",
        cost: 5,
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and place 3 Time Tokens on this card to perform this attack.\nYou may convert 1 of your [battlestations] results into 1 [crit] result.\nYou may fire this weapon from your forward or rear firing arcs.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T119",
        set: &["72231"],
        name: "Subspace Transmitter",
        cost: 5,
        text: "<b>ACTION:</b> Disable this card to target a friendly ship within Range 1-3 of your ship. Place 1 [scan] Token beside your ship and the target ship. You cannot perform a [scan] Action as a Free Action this round.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T118",
        set: &["72231"],
        name: "Thruster Array",
        cost: 3,
        text: "<b>ACTION:</b> Discard this card to immediately perform a 1 [reverse] or 2 [reverse] Maneuver. Treat this maneuver as a red maneuver.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E142",
        set: &["71225"],
        name: "Arming Sequence",
        cost: 8,
        text: "<b>ACTION:</b> Place 1 Mission Token on this card. During the Activation Phase of each subsequent round, place 1 additional Mission Token on this card (max 3). While there are Mission Tokens on this card, your ship cannot perform any Actions and my only execute maneuvers with a speed of 1. While attacking with a \"Destructive Blast\" [weapon] Upgrade or your Primary Weapon, during the Roll Attack Dice step, you may discard this card to gain a number of attack dice equal to the number of Mission Tokens on this card. If you do so, discard this card. This Upgrade may only be purchased for a Xindi Weapon.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C230",
        set: &["71225"],
        name: "Degra",
        cost: 4,
        text: "All of your Xindi [weapon] Upgrades cost -1 SP. \n\nWhen attacking, during the Declare Target step, if your ship does not already have another ship target locked, you may discard this card to acquire a target lock on a ship within Range 1-3 of your ship.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W136",
        set: &["71225"],
        name: "Destructive Blast",
        cost: 6,
        text: "<b>ATTACK: </b>Discard this card to perform this attack. This attack targets all ships in a straight line up to Range 3 from your ship. Perform one attack against each ship in the line. Each attack beyond the first is at a cumulative -1 attack die (i.e. -1 attack die against the 2nd ship, -2 attack die against the 3rd, etc.) This Upgrade can only be purchased for a Xindi Weapon.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::RangeOther("*"), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W135",
        set: &["71225"],
        name: "Rotating Emitters",
        cost: 4,
        text: "<b>ATTACK: </b>Disable this card to perform this attack. \n\nYou may fire this weapon in any direction. \n\nThis Upgrade may only be purchased for a Xindi Weapon.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T117",
        set: &["71225"],
        name: "Subspace Vortex",
        cost: 6,
        text: "<b>ACTION:</b> Discard this card to remove your ship from the play area and discard all Tokens that are beside your ship except for Auxiliary Power Tokens. Immediately place your ship back anywhere in the play area, but not within Range 1-3 of any enemy ship. You cannot attack during the round that you use this Action. This Upgrade can only be purchased for a Xindi ship.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique, UpgradeConstraint::Banned],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T116",
        set: &["71225"],
        name: "Self-Destruct",
        cost: 5,
        text: "<b>ACTION:</b> Target all ships within Range 1 of your ship and destroy your ship. Each target suffers 1 damage and must discard a Token ([evade], [scan], [battlestations], or  [target-lock]) that is beside it. \n\nThis Upgrade may only be purchased for a Xindi Weapon.",
        factions: &["xindi"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E141",
        set: &["72221p"],
        name: "INTERCEPT",
        cost: 5,
        text: "During the Activation Phase, if an opposing ship ends it move within your forward firing arc, before that ship performs its Action, you may discard this card to immediately perform an attack with 3 attack dice against that ship. The defending ship may roll defense dice against this attack, but the attack dice cannot be modified in any way.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C229",
        set: &["72221p"],
        name: "THEI",
        cost: 1,
        text: "During the Activation Phase, after you move, if you have the [cloak] Action on your Action Bar, you may discard this card to perform a [cloak] Action as a free Action.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W134",
        set: &["72221p"],
        name: "CHARGING WEAPONS",
        cost: 1,
        text: "When attacking with your Primary Weapon, you may disable this card to re-roll one of your blank results.\n\nNo ship may be equipped with more than one \"Charging Weapons\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T115",
        set: &["72221p"],
        name: "SELF REPAIR TECHNOLOGY",
        cost: 4,
        text: "After your ship performs a green maneuver, you may disable this card to repair 1 damage to your ship's Hull.\n\nThis Upgrade may only be purchased for a Romulan ship and no ship may be equipped with more than 1 \"Self Repair Technology\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D025",
        set: &["71203"],
        name: "Cloaked Fighters",
        cost: 4,
        text: "Add the [cloak] Action to your Action Bar.  \nWhile your squadron is Cloaked, you cannot perform a maneuver with a speed greater than 1. \nThis Upgrade may only be purchased for a Scorpion class attack squadron and no ship may be equipped have more than one \"Cloaked Fighters\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D024",
        set: &["71203"],
        name: "Hidden Formation",
        cost: 5,
        text: "Add the [sensor-echo] Action to your Action Bar. When performing the [sensor-echo] Action you may only use a 1 [straight] Maneuver Template. \nIf your squadron is Cloaked, after performing a [sensor-echo] Action, you may discard this card to immediately perform an additional [sensor-echo] Action as a free Action. If you do so, place an Auxiliary Power Token beside your ship.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D023",
        set: &["71203"],
        name: "Cover Fire",
        cost: 4,
        text: "When defending, during the Roll Defense Dice step, you may discard this card to to add a number of defense dice to your roll equal to your current Primary Weapon value. \n\nNo ship may be equipped with more than one \"Cover Fire\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D022",
        set: &["71203"],
        name: "Focused Strike",
        cost: 5,
        text: "If you damage an opposing ship's Hull with a critical damage, you may discard this card to draw 3 Damage Cards (instead of 1) and choose which one to place beside the enemy's Ship Card; discard the unused Damage Cards.\n\nNo ship may be equipped with more than one \"Focused Strike\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D021",
        set: &["71203"],
        name: "Torpedo Attack",
        cost: 4,
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and place 3 time tokens on this card to perform this attack. You may fire this weapon form your forward or rear firing arcs. \nNo Ship may be equipped with more than one \"Torpedo Attack\" Upgrade.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D020",
        set: &["71203"],
        name: "Reconnaissance",
        cost: 2,
        text: "<b>ACTION:</b> Place a [scan] and an Auxiliary Power Token beside your ship.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D019",
        set: &["71203"],
        name: "Thrusters",
        cost: 3,
        text: "During the Activation Phase, if your ship is not Cloaked and you reveal a green maneuver dial you may discard this card to add 1 to your maneuver speed.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "squadron",
        id: "D018",
        set: &["71203"],
        name: "Support Ship",
        cost: 4,
        text: "When your last Attack Squadron Token is destroyed, discard this card instead of removing that Token. \n\nNo ship may be equipped with more than one \"Support Ship\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q005",
        set: &["71212"],
        name: "Maintenance Crew",
        cost: 6,
        text: "This Upgrades does not require an upgrade slot. Add 1 [crew] Upgrade slot to your Upgrade Bar. During the Planning Phase you may discard this card and 1 of your [crew] Upgrades to repair up to 2 Damage to your ship. No ship may be equipped with more than one \"Maintenance Crew\" Upgrade.",
        factions: &["dominion"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W133",
        set: &["71212"],
        name: "Matter-Antimatter Warhead",
        cost: 7,
        text: "<b>Attack: (Target Lock)</b> Spend your target lock and discard this card to perform this attack. If this attack hits place an Auxiliary Power Token beside all ships within Range 1 of the defending ship. \nYou may only fire this weapon form your forward firing arc.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Attack("7"), UpgradeConstraint::Range(3, 3), UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W132",
        set: &["71212"],
        name: "Quantum Torpedoes",
        cost: 6,
        text: "<b>Attack: (Target Lock)</b> Spend your target lock and place 3 time tokens on this card to perform this attack.  If the target ship is hit add 1 [hit] result to your total damage. If this weapon is fired from a Cardassian ATR-4107 add 1 additional [hit] result to your total damage.  You may fire this weapon from you forward or rear firing arcs.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W131",
        set: &["71212"],
        name: "Thoron Shock Emitter",
        cost: 5,
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and discard this card to perform this attack. \nYou may select any number of your attack dice and re-roll them. \nThis Upgrade may only be purchased for a Cardassian ATR-4107 ship.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W130",
        set: &["71212"],
        name: "Plasma Wave",
        cost: 5,
        text: "<b>ATTACK: </b>Discard this card to perform this attack. \nYou may fire this weapon at the every enemy ship within Range 1 of your ship. \nThis Upgrade may only be purchased for a Cardassian ATR-4107 ship.",
        factions: &["dominion"],
        constraints: &[UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T113",
        set: &["71212"],
        name: "Kinetic Detonator",
        cost: 4,
        text: "<b>ACTION:</b> Discard this card and 1 of your [weapon] Upgrades to inflict 1 damage to all ships within Range 1 (including this ship).",
        factions: &["dominion"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T112",
        set: &["71212"],
        name: "Counter Measures",
        cost: 5,
        text: "When defending, during the Roll Defense Dice step, you may discard this card to roll +2 defense dice. Immediately after that attack is completed, you may then perform a 2 dice attack against the attack ship. \nThis Upgrade costs +5 SP for any ship other than a Cardassian ATR-4107 and no ship may be equipped with more than one \"Counter Measures\" Upgrade.",
        factions: &["dominion"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T111",
        set: &["71212"],
        name: "Evasive Attack Route",
        cost: 5,
        text: "When defending, during the Modify Defense Dice step, you may disable this card and discard one of your [weapon] Upgrades to place 2 [evade] Tokens beside your ship. \nThis Upgrade my only be purchased for a Cardassian ATR-4107.",
        factions: &["dominion"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C342",
        set: &["71192"],
        name: "Lorrum",
        cost: 4,
        text: "When attacking with your Primary Weapon, during the Roll Attack Dice step, instead of rolling your normal number of attack dice, you may discard this card to roll a number of attack dice equal to the SP cost of one upgrade on the target ship (max 4 dice).",
        factions: &["kazon"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C228",
        set: &["71192"],
        name: "Kazon Guard",
        cost: 4,
        text: "During the Activation Phase, you may discard this card to place an [evade] Token beside your ship, even if there is already one there. If you do so place an Auxiliary Power Token beside your ship.\n\n No ship may be equipped with more than one 'Kazon Guard' Upgrade.",
        factions: &["kazon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W129",
        set: &["71192"],
        name: "Photonic Charges",
        cost: 3,
        text: "<b>ATTACK: </b>Place 3 Time Tokens on this card to perform this attack. \n\nPlace an Auxiliary Power Token beside the target ship if there if there is at lease one uncancelled [hit] or [crit] result.",
        factions: &["kazon"],
        constraints: &[UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W128",
        set: &["71192"],
        name: "Aft Torpedo Launcher",
        cost: 3,
        text: "<b>Attack: (Target Lock)</b> Spend your target lock and place 3 Time Tokens on this card to perform this attack. \n\nYou may only fire this weapon at a ship that is not in your forward firing arc.",
        factions: &["kazon"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W127",
        set: &["71192"],
        name: "Variable Yield Charges",
        cost: 2,
        text: "When attacking with one of your \"Photonic Charges\" Upgrades, during the Roll Attack Dice Step, you may disable this card to gain +1 attack die for that attack. If you do so place an Auxiliary Power Token beside your ship.",
        factions: &["kazon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "question",
        id: "Q004",
        set: &["71192"],
        name: "Unremarkable Species",
        cost: 5,
        text: "This Upgrade does not require an Upgrade slot and my not be deployed to a Borg ship. While this upgrade is equipped to your ship your Kazon Upgrades cannot be targeted by the Borg Assimilation Tubules Upgrade. In addition when defending against a Borg ship, during the Roll Defense Dice step roll +2 defence dice. This Upgrade costs +5SP if purchased for a non Kazon ship and no ship may be equipped with more than 1 \"Unremarkable Species\" Upgrade.",
        factions: &["kazon"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E140",
        set: &["71211"],
        name: "EMISSARY",
        cost: 5,
        text: "At the start of the Activation Phase you may discard this card to remove all Disabled Upgrade Tokens from all Bajoran Upgrades deployed to all friendly ship within Range 1-3.",
        factions: &["bajoran"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E139",
        set: &["71211"],
        name: "LEGENDARY HERO",
        cost: 5,
        text: "You may discard this card at the start of the Combat Phase to gain +2 attack dice and +2 defense dice for that round. \n\nThis Upgrade may only be purchased for a Bajoran captain assigned to a Bajoran Ship.",
        factions: &["bajoran"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E138",
        set: &["71211"],
        name: "D'Jarras",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to target a friendly ship within Range 1-3. That target ship may perform an Action listed on one of that ship's [crew] Upgrades. If the [crew] Upgrade is Bajoran, treat this Action as a free Action.  \nThis Upgrade may only be purchased for a Bajoran Captain assigned to a Bajoran ship.",
        factions: &["bajoran"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T110",
        set: &["71211"],
        name: "TACHYON EDDIES",
        cost: 5,
        text: "When you reveal you chosen maneuver you may disable this card to add up the +3 to that maneuver speed. Inflict one damage to your ship if you add +2 to your speed or inflict 2 damage to your ship if you add +3 to your speed. This Upgrade may only be purchased for a Bajoran Lightship and no ship may be equipped with more than 1 'Tachyon Eddies' Upgrade.",
        factions: &["bajoran"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T109",
        set: &["71211"],
        name: "MAINSAILS",
        cost: 4,
        text: "At the start of the game place 2 Shield Tokens on this card. When your ship suffers damage remove these tokens first. You cannot use these tokens to activate any other card ability.  This Upgrade may only be purchased for a Bajoran Lightship and no ship may be equipped with more than 1 'Mainsails' Upgrade.",
        factions: &["bajoran"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T108",
        set: &["71211"],
        name: "SOLAR SAIL POWERED",
        cost: 3,
        text: "After you move you may disable this card to treat any maneuver as a green maneuver. This upgrade may only be purchased for a Bajoran Lightship.",
        factions: &["bajoran"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E137",
        set: &["71213"],
        name: "Infiltration",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to perform this Action. If your ship is within Range 1-2 of at least 1 enemy ship, but is not within Range 1-2 of any friendly ships, your ship cannot be attacked or attack this round.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C227",
        set: &["71213"],
        name: "Miles O'Brien",
        cost: 5,
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all of your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard this card to inflict 1 damage to the target ship's Hull.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C226",
        set: &["71213"],
        name: "Jadzia Dax",
        cost: 4,
        text: "You may disable this card after performing a red maneuver to place an [evade] Token beside your ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C225",
        set: &["71213"],
        name: "Julian Bashir",
        cost: 4,
        text: "At any time, your may discard this card to re-roll any 1 die.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C224",
        set: &["71213"],
        name: "Nog",
        cost: 4,
        text: "During the Combat Phase you may disable this card to spend a [scan] Token that is beside your ship as though it were a [evade] or a [battlestations] Token.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C223",
        set: &["71213"],
        name: "Elim Garak",
        cost: 3,
        text: "At the beginning of the Combat Phase, you may disable this card to add +2 to your Captain Skill Number until the End Phase.  OR   During the Combat Phase, you may discard this card to select up to 3 of your attack or defence dice and re-roll them.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E136",
        set: &["71221"],
        name: "Red Squad",
        cost: 5,
        text: "At the start of the game, place a number of Tokens ([evade], [scan], or [battlestations]) on this card equal to the number of Federation [crew] Upgrades assigned to your ship (4 max). During the Activation Phase, before performing your Action, you may remove 1 Token from on top of this card and place it beside your ship. This Upgrade may only be purchased for a Federation Captain assigned to a Federation ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C222",
        set: &["71221"],
        name: "Riley Aldrin Shepard",
        cost: 5,
        text: "<b>ACTION:</b> Disable this card to perform an additional green maneuver with a speed of 1. Your ship cannot be Target Locked this round. If there is already a Target Lock on your ship, remove it.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C221",
        set: &["71221"],
        name: "Karen Ferris",
        cost: 4,
        text: "When targeting an opposing ship with a Photon or Quantum Torpedoes secondary weapon you may disable this card instead of spending a Target Lock.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C220",
        set: &["71221"],
        name: "Dorian Collins",
        cost: 2,
        text: "If your ship suffers damage to its Hull you may immediately disable this card to repair 1 Shield.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C219",
        set: &["71221"],
        name: "Nog",
        cost: 5,
        text: "<b>ACTION:</b> Disable this card to repair 1 damage to your Hull or Shields. <b>OR</b> If you execute a Red Maneuver, you may disable this card after skipping your Perform Action Step to remove 1 Auxiliary Power Token form beside your ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E135",
        set: &["71223"],
        name: "DIVERSION",
        cost: 5,
        text: "When an opposing ship declares an attack against a friendly ship that is within Range 1 of your ship. If you are also in the attacking ships forward firing arc you may discard this card to force the attacking ship to make its attack against your ship instead. The attack is made at -2 attack dice.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C218",
        set: &["71223"],
        name: "TALAS",
        cost: 3,
        text: "When a friendly  ship within Range 1 of your ship is declared the target of an attack, you may discard this card to target that ship. If you do so, the target ship may spend your [evade] or [battlestations] Tokens as if it were beside their ship during this attack.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W125",
        set: &["71223"],
        name: "ADVANCED WEAPONRY",
        cost: 5,
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and place 3 Time Tokens on this card to perform this attack. If your inflict a critical damage you may search the damage deck and chose either a \"Weapons Malfunction\" or \"Munitions Failure\" critical damage card, then reshuffle the deck. You may only fire this weapon from your forward firing arc.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W124",
        set: &["71223"],
        name: "PARTICLE CANNON ARRAY",
        cost: 3,
        text: "<b>ATTACK: </b>Place 2 Time Tokens on this card to perform this attack. \n\nYou my only fire this weapon from your forward firing arc.",
        factions: &["independent"],
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T107",
        set: &["71223"],
        name: "TRACTOR BEAM",
        cost: 4,
        text: "<b>ACTION:</b> Discard this card to target a friendly ship within Range 1. That ship performs an additional green maneuver with a speed of 1. The target ship rolls +1 defence die this round.",
        factions: &["independent"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T106",
        set: &["71223"],
        name: "LONG RANGE SENSORS",
        cost: 3,
        text: "When defending, it there is a [scan] Token beside your ship, during the Roll Defence Dice step, you may disable this card to roll +1 defence die for that attack. ",
        factions: &["independent"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E134",
        set: &["71201"],
        name: "Improvise",
        cost: 5,
        text: "During the Combat Phase, when attacking or defending, you may disable this card and any number of your other Upgrades to re-roll a number of your attack or defense dice equal to the number of Upgrades you disabled with this ability (not including this card).",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C217",
        set: &["71201"],
        name: "Wesley Crusher",
        cost: 5,
        text: "At the start of the game, place up to 3 Federation [tech] Upgrades, each 4 SP or less, face down under this card. During the Actavation Phase, you may discard this card to flip one of these Upgrades face up and deploy it to your ship, even if it exceeds your ship's restrictions. If you do so, remove the other 2 face down Upgrades from the game and place an Auxiliary Power Token beside your ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C216",
        set: &["71201"],
        name: "Worf",
        cost: 5,
        text: "When defending, you may disable this card. If you do so, the attacking ship rolls 1 fewer attack die and cannot spend [battlestations] or [target-lock] Tokens to modify its attack roll and your ship may roll its full defence dice in spite of the presence of any [scan] Token(s) beside the attacking ship.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C215",
        set: &["71201"],
        name: "Geordi La Forge",
        cost: 5,
        text: "All of your [tech] Upgrades cost -1 SP. \n\nWhen defending, during the Roll Defence Dice step, you may disable this card to roll 1 additional defence die for each [tech] Upgrade deployed to your ship (+2 max)",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T105",
        set: &["71201"],
        name: "Navigational Station",
        cost: 4,
        text: "After you perform a green maneuver, you may disable this card to immediately perform an [evade] Action as a free Action. \n\nNo ship may be equipped with more than one 'Navigational Station' Upgrade.",
        factions: &["federation"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T104",
        set: &["71201"],
        name: "Warp Jump",
        cost: 5,
        text: "At the start of the Combat Phase before any attacks have been made, you my discard this card to remove your ship form the play area. At the end of the Combat Phase, after all other ships have attacked, place your ship anywhere in the play area but not within Range 1-3 of any other ship. All Tokens that were beside your ship are removed. You can not attack during the round in which you use this ability.",
        factions: &["federation"],
        constraints: &[UpgradeConstraint::Banned],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E133",
        set: &["71222"],
        name: "Covert Mission",
        cost: 5,
        text: "This Upgrade may be fielded by any Captain. If the Captain's card does not have an [talent] icon, this Upgrade costs +1 SP. \nDuring the End Phase of each round, place 1 Mission Token on this card (max 3).\n<b>ACTION:</b> Discard this card to gain +1 attack die for each Mission Token beside this card for your first attack this round.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C214",
        set: &["71222"],
        name: "Pardek",
        cost: 5,
        text: "<b>ACTION:</b> Discard this card to target a ship at Range 3. Your ship cannot attack the target ship and that ship cannot attack your ship this round.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C213",
        set: &["71222"],
        name: "Patahk",
        cost: 1,
        text: "When attacking with your Primary Weapon during the Roll Attack Dice step, you may discard this card to gain +1 attack die for that attack.",
        factions: &["romulan"],
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T103",
        set: &["71222"],
        name: "Distress Signal",
        cost: 2,
        text: "When defending, if there is a friendly ship within Range 1-2 of your ship with a Hull value greater then your ship, during the Roll Defence Dice step you may discard this card to roll +2 defence dice. \n\nNo ship my be equipped with more than 1 \"Distress Signal\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T102",
        set: &["71222"],
        name: "Graviton Field Generator",
        cost: 2,
        text: "When defending, if your ship is not Cloaked, during the Deal Damage step you may discard this card to add 1 Shield Token. This Shield Token my not exceed your ship's starting Shield Value and is treated like a normal Shield Token. \n\nNo ship my be equipped with more than 1 \"Graviton Field Generator\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E132",
        set: &["71120"],
        name: "Engage",
        text: "<b>ACTION:</b> If you performed a Green Maneuver this round, you may immediately perform an additional Green Maneuver of your choice. Place an Auxiliary Power Token besides your ship. ",
        factions: &["federation"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C212",
        set: &["71120"],
        name: "Worf",
        text: "Disable this card to re-roll your entire attack roll. You must re-roll all of the dice and keep the results of the second roll. ",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T101",
        set: &["71222"],
        name: "Self Destruct Sequence",
        cost: 3,
        text: "<b>ACTION:</b> Destroy your ship and target every ship within Range 1 of your ship. Each target ship suffers 1 damage. \n\nNo ship may be equipped with more than 1 \"Self Destruct Sequence\" Upgrade.",
        factions: &["romulan"],
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C211",
        set: &["71120"],
        name: "Miles O'Brien",
        text: "<b>ACTION:</b> Discard this card to disable any 1 Upgrade on another ship at Range 1-3. \n\nThis ability may be used against a ship that is Cloaked.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C210",
        set: &["71120"],
        name: "Geordi La Forge",
        text: "If your ship has a [scan] Token beside it, you may force one ship you attacked this round to re-roll one defense die of your choice. ",
        factions: &["federation"],
        cost: 4,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C209",
        set: &["71120"],
        name: "Data",
        text: "<b>ACTION:</b> Place 2 [evade] Tokens beside your ship and reduce your total attack dice by 2 this round. You cannot perform an [evade] Action this round, even as a free Action. \n\n <b>( ERRATA )</b>",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W122",
        set: &["71120", "71268", "72282", "71276", "71280", "72261"],
        name: "Photon Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \nYou may convert 1 of your [battlestations] results into a [crit] result. \nYou may fire this weapon from your forward or rear firing arcs. ",
        factions: &["federation"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W121",
        set: &["71120"],
        name: "Antimatter Mines",
        text: "<b>ATTACK: </b>Discard this card and place a Minefield Token in your rear firing arc at Range 1. If you place this token on a ship, or if a ship enters the minefield, roll 4 attack dice. Any [hit] or [crit] damages the ship as normal. The affected ship does not roll any defense dice. ",
        factions: &["federation"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C208",
        set: &["71120"],
        name: "Konmel",
        text: "<b>ACTION:</b> If your ship is not Cloaked, you may repair 1 Shield Token. ",
        factions: &["klingon"],
        cost: 4,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C207",
        set: &["71120"],
        name: "Klag",
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard Klag and one [crew] Upgrade of your choice on the target ship. ",
        factions: &["klingon"],
        cost: 1,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W120",
        set: &["71120"],
        name: "Photon Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \n\nIf fired from a <i>Vor'cha</i> class ship add +1 attack die. ",
        factions: &["klingon"],
        cost: 5,
        constraints: &[UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T100",
        set: &["71120", "71126", "72251"],
        name: "Tractor Beam",
        text: "<b>ACTION:</b> Target a ship at Range 1 and roll 2 attack dice. For every [hit] result, that ship rolls 1 less defense die against your next attack. ",
        factions: &["klingon"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T250",
        set: &["71120", "71273"],
        name: "Advanced Weapon System",
        text: "When attacking, you may disable this Upgrade before rolling any dice to keep your [cloak] token from flipping to its red side. ",
        factions: &["klingon"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E131",
        set: &["71120"],
        name: "Counter Attack",
        text: "<b>ACTION</b>: If you ship's Shields or Hull are damaged by a ship in your forward firing arc this round, you may immediately make 1 free attack against that ship. \n\nYou may not make this attack if your ship is destroyed. ",
        factions: &["romulan"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C206",
        set: &["71120"],
        name: "N'Vek",
        text: "<b>ACTION:</b> Disable 1 of your Active Shields in order to add +1 attack die this round. ",
        factions: &["romulan"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C205",
        set: &["71120"],
        name: "Bochra",
        text: "<b>ACTION:</b> If you ship is not Cloaked, disable all your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard Bochra and one [crew] Upgrade of your choice on the target ship. ",
        factions: &["romulan"],
        cost: 1,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W119",
        set: &["71120", "71123", "71511", "71794"],
        name: "Plasma Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \nYou may re-roll all your blank results one time. \nYou may fire this weapon from your forward or rear firing arcs. ",
        factions: &["romulan"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T249",
        set: &["71120"],
        name: "Artificial Quantum Singularity",
        text: "While your ship is Cloaked, you may roll your full defense dice in spite of the presence of an opposing ship's [scan] Token. ",
        factions: &["romulan"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E130",
        set: &["71121"],
        name: "I Stab at Thee",
        text: "If your ship was just destroyed, roll 3 attack dice and inflict the resulting damage on all ships within Range 1 of your ship. These ships do not roll defense dice against this damage. ",
        factions: &["independent"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E129",
        set: &["71121"],
        name: "Superior Intellect",
        text: "<b>ACTION:</b> Discard this card to target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Steal 1 face up Upgrade Card of your choice from that ship, even if the Upgrade exceeds your ship's restriction. ",
        factions: &["independent"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C204",
        set: &["71121"],
        name: "Kyle",
        text: "<b>ACTION:</b> If you performed a Green Maneuver this round, repair 1 Shield Token and reduce your total attack dice by 2 this round. ",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C203",
        set: &["71121"],
        name: "Pavel Chekov",
        text: "Your ship can remove 1 Auxiliary Power Token after performing a White Maneuver. ",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C202",
        set: &["71121"],
        name: "Follower of Khan",
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard this card and one [crew] Upgrade of your choice on the target ship. ",
        factions: &["independent"],
        cost: 1,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C201",
        set: &["71121"],
        name: "Joachim",
        text: "Each time you inflict a [crit] on an enemy ship's Hull, you may draw 2 Damage Cards (instead of 1) and choose which one to place beside the enemy's Ship Card; discard the unused Damage Card. ",
        factions: &["independent"],
        cost: 4,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W118",
        set: &["71121", "71122", "72240", "71272", "72292"],
        name: "Photon Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \nYou may convert 1 of your [battlestations] results into a [crit] result. \nYou may fire this weapon from your forward or rear firing arcs. ",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E128",
        set: &["71122", "72240"],
        name: "Cheat Death",
        text: "If your ship was just destroyed, discard this card to remove Damage Cards 1 at a time from your Ship Card until the amount of damage is 1 point less than your Hull Value. Flip all remaining Damage Cards face down. ",
        factions: &["federation"],
        // faq:true,
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E127",
        set: &["71122", "72240"],
        name: "Cochrane Deceleration Maneuver",
        text: "<b>ACTION:</b> If you performed a 1 [forward] Maneuver this round, discard this Upgrade to Come About [come-about]. Place an Auxiliary Power Token beside your ship. ",
        factions: &["federation"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E126",
        set: &["71122", "72240"],
        name: "Corbomite Maneuver",
        text: "<b>ACTION:</b> Discard this Upgrade to prevent all enemy ships from attacking you this round. You cannot attack this round. ",
        factions: &["federation"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C200",
        set: &["71122", "72240"],
        name: "Leonard McCoy",
        text: "Discard McCoy to allow 1 of your [crew] Upgrades to perform its Action as a free Action this round. ",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C199",
        set: &["71122", "72240"],
        name: "Hikaru Sulu",
        text: "<b>ACTION:</b> Add 2 to your Agility for the rest of this round. Each time you defend this round, you may convert 1 [battlestations] result into 1 [evade] result. ",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C198",
        set: &["71122", "72240"],
        name: "Mr. Spock",
        text: "If your ship has a [scan] Token beside it when you attack, you may convert all your [battlestations] results into [hit] results. ",
        factions: &["federation"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C197",
        set: &["71122", "72240"],
        name: "Nyota Uhura",
        text: "Discard Uhura immediately before you move in order to change your Maneuver for this round. ",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C196",
        set: &["71122", "72240"],
        name: "Montgomery Scott",
        text: "<b>ACTION:</b> Disable 2 of your Shields in order to gain +2 attack dice this round. \n<b>OR</b> \nRepair 1 Shield Token and reduce your total attack dice by 2 this round. ",
        factions: &["federation"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E125",
        set: &["71123"],
        name: "All Forward Disruptor Banks",
        text: "<b>ACTION:</b> Disable this card to add +1 attack die to any attack in your forward firing arc this round. ",
        factions: &["romulan"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C195",
        set: &["71123"],
        name: "Tactical Officer",
        text: "When removing your Target Lock from an opposing ship in order to re-roll your attack dice, you may re-roll each attack die one additional time. ",
        factions: &["romulan"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W117",
        set: &["71123"],
        name: "Photon Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \nYou may convert 1 [battlestations] result into 1 [crit] result. \nYou may fire this weapon from your forward or rear firing arcs. ",
        factions: &["romulan"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C194",
        set: &["71124"],
        name: "Parem",
        text: "<b>ACTION:</b> If you ship is not Cloaked, disable all your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard Parem and one [crew] Upgrade of your choice on the target ship. ",
        factions: &["romulan"],
        cost: 1,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C193",
        set: &["71124"],
        name: "Varel",
        text: "Discard this card to cancel a single attack against her ship before any dice are rolled. The cancelled attack cannot be directed against a different ship. \n\nThis Upgrade costs +5 Squadron Points for any ship that is not a Romulan Science Vessel. ",
        factions: &["romulan"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T248",
        set: &["71124", "75001"],
        name: "Interphase Generator",
        text: "<b>WHEN DEFENDING:</b> After all dice have been rolled if this ship is Cloaked, discard this card.\n\nCancel the attack. This ship suffers 1 [hit].\n\n<b>( ERRATA )</b>",
        factions: &["romulan"],
        cost: 3,
        constraints: &[UpgradeConstraint::OnePerShip],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T247",
        set: &["71124"],
        name: "Muon Feedback Wave",
        text: "<b>ACTION:</b> Discard this card to place a Muon Token beside a ship at Range 1. \n\nThis upgrade may only be purchased for a Romulan Science Vessel. ",
        factions: &["romulan"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E124",
        set: &["71125", "72272"],
        name: "Sabotage",
        text: "<b>ACTION:</b> Discard this Upgrade to target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard 1 [weapon] or [tech] Upgrade on the target ship. ",
        factions: &["klingon"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C192",
        set: &["71125", "72272"],
        name: "Korax",
        text: "<b>ACTION:</b> If your ship is not cloaked, disable all your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard Korax and any 2 [crew] Upgrades of your choice on the target ship. ",
        factions: &["klingon"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C191",
        set: &["71125", "72272"],
        name: "Cyrano Jones",
        text: "You begin the game with one Tribble Token beside your Ship Card ",
        factions: &["independent"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W116",
        set: &["71125", "71448", "72272"],
        name: "Photon Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \nYou may convert 1 [battlestations] result into 1 [crit] result. \nYou may fire this weapon from your forward or rear firing arcs. ",
        factions: &["klingon"],
        cost: 3,
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W115",
        set: &["71125", "72272"],
        name: "Magnetic Pulse",
        text: "<b>ATTACK: </b> Disable this card and 1 Active Shield to perform this attack. \n\nEach [crit] that would damage on the opponent's Shields instead inflicts 1 [hit] on the opponent's Hull. ",
        factions: &["klingon"],
        cost: 4,
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T246",
        set: &["71125", "72272"],
        name: "Projected Stasis Field",
        text: "<b>ACTION:</b> If your ship is not cloaked, disable all of your remaining Shields and discard this Upgrade to target a ship at Range 1-2. That ship must disable all of its remaining Shields and cannot attack this round. Your ship rolls 2 less attack dice this round. ",
        factions: &["klingon"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C190",
        set: &["71126", "72251"],
        name: "Klingon Boarding Party",
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard this card to disable all Upgrades and remove all [battlestations] Tokens on the target ship. ",
        factions: &["klingon"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E123",
        set: &["71126", "72251"],
        name: "In'cha",
        text: "<b>ACTION:</b> Discard this card to perform one additional Maneuver of your choice this round. ",
        factions: &["klingon"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C189",
        set: &["71126", "72251"],
        name: "Drex",
        text: "<b>ACTION:</b> When attacking this round, you may convert 1 [battlestations] result into 1 [crit] result and all of your other [battlestations] results into [hit] results. ",
        factions: &["klingon"],
        cost: 4,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W114",
        set: &["71126", "72251"],
        name: "Photon Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \n\nIf fired from a Negh'Var class ship add +1 attack die.",
        factions: &["klingon"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C188",
        set: &["71127"],
        name: "Glinn Telle",
        text: "<b>ACTION:</b> Discard this card to target 1 ship in your forward firing arc at Range 1-3. That ship rolls 2 less attack dice this round. ",
        factions: &["dominion"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W113",
        set: &["71127"],
        name: "Forward Weapons Grid",
        text: "<b>ATTACK: </b>Disable this card to perform this attack. You must divide the attack between 2 different ships in your forward firing arc. You may divide your attack dice however your like, but you must roll at least 1 attack die against each ship. ",
        factions: &["dominion"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T245",
        set: &["71127"],
        name: "Antiproton Scan",
        text: "If a [scan] Token is beside your ship, add +1 attack die when firing against a ship that has no Active Shields. ",
        factions: &["dominion"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T244",
        set: &["71127"],
        name: "EM Pulse",
        text: "<b>ACTION:</b> Disable this card to target a ship at Range 1-2. The targeted ship rolls 1 less attack die and 1 less defense die this round. ",
        factions: &["dominion"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C187",
        set: &["71128"],
        name: "Breen Aide",
        text: "If your ship has a [scan] Token beside it when you attack, you may convert 1 blank result into 1 [hit] result. ",
        factions: &["dominion"],
        cost: 2,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W112",
        set: &["71128", "71271"],
        name: "Photon Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \n\nYou may fire this weapon from your forward or rear firing arcs. ",
        factions: &["dominion"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W111",
        set: &["71128", "OP5Prize"],
        name: "Energy Dissipator",
        text: "<b>ATTACK: </b>Disable this card to perform this attack. If this attack hits, the target suffers no damage, receives 1 Energy Dampening Token, and you may immediately attack the same ship again with another weapon. This upgrade costs +5 Squadron Points for any non-Breen ship. ",
        factions: &["dominion"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E122",
        set: &["OP1Prize"],
        name: "Conditional Surrender",
        text: "When your ship is attacked, before any dice are rolled, discard all of your [crew] Upgrades and this card to cancel the attack. You must have at least 1 [crew] Upgrade on your ship in order to use this ability.\n\n<b>( ERRATA )</b>",
        factions: &["ferengi"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C186",
        set: &["OP1Prize"],
        name: "Farek",
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all of your remaining Shields to target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard Farek and 1 [crew] Upgrade on the target ship. If there is a [scan] Token beside your ship, you may perform this action as a free Action.",
        factions: &["ferengi"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W110",
        set: &["OP1Prize"],
        name: "Missile Launchers",
        text: "<b>ATTACK: </b>Disable this card to perform this attack. Make 2 attacks against ship(s) in your forward firing arc. Roll 2 attack dice for each of these attacks. Any [crit] results that would damage an opponent's Shields inflict critical damage to that ship's Hull instead.",
        factions: &["ferengi"],
        cost: 3,
        constraints: &[UpgradeConstraint::Attack("2"), UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E121",
        set: &["OP2Prize"],
        name: "Defense Condition One",
        text: "<b>ACTION:</b> Discard this card to place a [battlestations] Token beside your ship and all friendly ships within Range 1-2 of your ship (even if there is already one there).",
        factions: &["klingon"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W109",
        set: &["OP2Prize"],
        name: "Barrage of Fire",
        text: "<b>ATTACK: </b>Discard this card to perform this attack. Target 1 friendly ship within Range 1 of your ship. Target ship may not make a normal attack this round. Instead, add the Primary Weapon value of that ship to your attack roll for this attack. Both ships must have the enemy ship within their forward firing arcs. Place an Auxiliary Power Token beside both ships.",
        factions: &["klingon"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T242",
        set: &["OP2Prize"],
        name: "Secondary Shield Emitters",
        text: "<b>ACTION:</b> Disable this card to repair 1 Shield Token. If you attack this round, roll 1 less attack die.",
        factions: &["klingon"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C185",
        set: &["OP2Prize"],
        name: "Synon",
        text: "When performing a [sensor-echo] Action, you may use a [forward]1, [forward]2 or [forward]3 maneuver template.",
        factions: &["klingon"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E120",
        set: &["OP3Prize"],
        name: "Invasion Plans",
        text: "When you initiate an attack against a ship at Range 2-3 while you are Cloaked, you may discard this card to force that ship to roll 2 less defense dice against your attack.",
        factions: &["romulan"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C184",
        set: &["OP3Prize", "72311p"],
        name: "Romulan Pilot",
        text: "<b>FREE ACTION:</b> Discard this card.\n\nPlace a [scan] Token beside this ship and this ship may make a Green Maneuver.",
        factions: &["romulan"],
        cost: 2,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W108",
        set: &["OP3Prize"],
        name: "Additional Weapons Array",
        text: "<b>ATTACK: </b>Disable this card to make this attack. \n\nYou may convert 1 of your [battlestations] results into 1 [crit] result.",
        factions: &["romulan"],
        cost: 4,
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T241",
        set: &["OP3Prize"],
        name: "Nullifier Core",
        text: "Each time you defend while Cloaked, you may re-roll 1 of your defense dice. Discard this card if you ship sustains any damage to its Hull.",
        factions: &["romulan"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W107",
        set: &["71268", "72282", "71531", "72271"],
        name: "Quantum Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \nIf the target ship is hit, add 1 [hit] result to your total damage. \nYou may fire this weapon from your forward or rear firing arcs.",
        factions: &["federation"],
        cost: 6,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T240",
        set: &["71268", "72282"],
        name: "Cloaking Device",
        text: "Instead of performing a normal Action, you may disable this card to perform the [cloak] Action. While you have a [cloak] token beside your ship, you may perform the [sensor-echo] Action even if this card is disabled. \n\nThis Upgrade costs +5 Squadron Points for any ship other than the U.S.S. Defiant.",
        factions: &["federation"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C183",
        set: &["71268", "72282"],
        name: "Worf",
        text: "<b>ACTION:</b> Target a ship at Range 1. That ship rolls 2 less attack dice this round.",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E119",
        set: &["71268", "72282"],
        name: "Attack Pattern Delta",
        text: "Disable this card to re-roll your entire defense roll. You must re-roll all of the dice and keep the results of the second roll.",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E118",
        set: &["71268", "72282"],
        name: "Attack Pattern Omega",
        text: "If you damage an opponent's Hull with a [crit], you may immediately discard this card to search the Damage Deck for a \"Warp Core Breach\" card instead of drawing a random Damage Card. Re-shuffle the Damage Deck when you are done.",
        factions: &["federation"],
        // faq:true,
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C182",
        set: &["71268", "72282"],
        name: "Jadzia Dax",
        text: "<b>ACTION:</b> Disable this card to perform an additional \"2\" Maneuver this round (forward or bank). \n\nYou cannot attack this round.",
        factions: &["federation"],
        cost: 4,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C181",
        set: &["71268", "72282"],
        name: "Miles O'Brien",
        text: "<b>ACTION:</b> Disable this card to repair 2 Shield Tokens. \n\nYou cannot attack this round.",
        factions: &["federation"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E117",
        set: &["71269"],
        name: "Once More Unto The Breach",
        text: "<b>ACTION:</b> Discard this card to allow your Primary Weapon to make a total of 2 attacks this round at -1 attack die each. \n\nYou may not roll any defense dice this round.",
        factions: &["klingon"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W106",
        set: &["71269"],
        name: "Concussive Charges",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \nFor every uncancelled [hit] or [crit] result, the target ship loses 1 token of your choice that has been placed beside it in the play area. \nYou may fire this weapon from your forward or rear firing arcs.",
        factions: &["klingon"],
        cost: 4,
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W105",
        set: &["71269", "71273", "71532", "71512", "71804"],
        name: "Photon Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \nYou may convert 1 of your [battlestations] results into a [crit] result. \nYou may fire this weapon from your forward or rear firing arcs. ",
        factions: &["klingon"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C180",
        set: &["71269"],
        name: "Kerla",
        text: "When defending against a ship at Range 1, you may convert 1 of your [battlestations] results into 1 [evade] result.",
        factions: &["klingon"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C179",
        set: &["71269"],
        name: "Stex",
        text: "If a [crew] Upgrade on an enemy ship would cause your ship to discard or disable any of your Upgrades, roll 2 defense dice. If you roll at least 1 [evade] result, ignore the effects of the enemy Upgrade. ",
        factions: &["klingon"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T239",
        set: &["71270"],
        name: "Cloaked Mines",
        text: "During the Planning Phase, you may discard this card to place a Minefield Token within Range 2 of your ship (in any direction), but not within Range 2 of an enemy ship. If an enemy ship passes within Range 1 of the token, roll 3 attack dice (-1 if the target ship immediately performs a [scan] Action). Any [hit] or [crit] damages the target ship as normal. The affected ship does not roll any defense dice.",
        factions: &["romulan"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T238",
        set: &["71270"],
        name: "Polarized Hull Plating",
        text: "When your ship is hit, convert 1 [crit] into 1 [hit] result.",
        factions: &["romulan"],
        cost: 2,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W104",
        set: &["71270"],
        name: "Nuclear Missiles",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \n\nYou may re-roll one of your blank results one time.",
        factions: &["romulan"],
        cost: 2,
        constraints: &[UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T237",
        set: &["71271"],
        name: "Long Range Tachyon Scan",
        text: "When attacking a ship at Range 3, you may spend 1 [scan] Token to force that ship to roll 2 less defense dice this round.",
        factions: &["dominion"],
        cost: 2,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T236",
        set: &["71271"],
        name: "Suicide Attack",
        text: "<b>ACTION:</b> At the end of the Activation Phase, you must make a 1 [forward] Maneuver and place an Auxiliary Power Token beside your ship. If your ship overlaps an enemy ship, destroy your ship and roll 8 attack dice to damage the enemy ship. That ship rolls defense dice against this attack. This Upgrade may only be purchased for a Jem'Hadar ship.",
        factions: &["dominion"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W103",
        set: &["71271"],
        name: "Phased Polaron Beam",
        text: "<b>ATTACK: </b>Disable this card to perform this attack. \n\nAll damage inflicted by this attack ignores the opposing ship's Shields. \n\nThis Upgrade costs +5 Squadron Points for any non-Jem'Hadar ship.",
        factions: &["dominion"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 2)],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C178",
        set: &["71271"],
        name: "Omet'Iklan",
        text: "Whenever you attack with your Primary Weapon, you may convert 1 result into a [hit] result. \n\nThis Upgrade may only be purchased for a Jem'hadar ship.",
        factions: &["dominion"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C177",
        set: &["71271"],
        name: "Virak'Kara",
        text: "<b>ACTION:</b> Target a ship at Range 1. Disable this card and 1 [crew] Upgrade of your choice on the target ship (even if that ship is Cloaked or has Active Shields). You may then use that Upgrade's Action (if any) as a free Action this round. \n\nThis Upgrade may only be purchased for a Jem'hadar ship.",
        factions: &["dominion"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C176",
        set: &["71271"],
        name: "Toman'Torax",
        text: "<b>ACTION:</b> Target a ship at Range 1. Discard this card and 1 [crew] Upgrade of your choice on the target ship (even if that ship is Cloaked or has Active Shields). \n\nThis Upgrade may only be purchased for a Jem'hadar ship.",
        factions: &["dominion"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C175",
        set: &["OP2Participation"],
        name: "Redshirt",
        text: "When defending, discard this card to cancel any one of your opponent's attack dice of your choice.",
        factions: &["federation"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C174",
        set: &["71273"],
        name: "N'Garen",
        text: "<b>ACTION:</b> When attacking this round, you may convert 1 of your [battlestations] results into a [crit] result and all of your other [battlestations] results into [hit] results.",
        factions: &["klingon"],
        cost: 4,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C173",
        set: &["71273"],
        name: "Alexander",
        text: "Each time your ship is hit for at least 1 damage, place 1 [battlestations] Token on this card. \n\nDuring the Activation Phase, you may take 1 [battlestations] Token off this card and place it beside your ship.",
        factions: &["klingon"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T235",
        set: &["71273"],
        name: "EM Pulse",
        text: "<b>ACTION:</b> Disable this card to target a ship at Range 1-2. The target ship rolls 1 less attack die and 1 less defense die this round. ",
        factions: &["klingon"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C172",
        set: &["71275", "72262"],
        name: "Boheeka",
        text: "If your ship has a [battlestations] Token beside it when you attack, you may convert 1 blank result into 1 [hit] result.",
        factions: &["dominion"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W102",
        set: &["71275", "72262"],
        name: "Enhanced Weaponry",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \n\nIf fired from a Keldon Class ship, add +1 attack die.",
        factions: &["dominion"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W101",
        set: &["71275", "72262"],
        name: "Dorsal Weapons Array",
        text: "<b>ATTACK: </b>Disable this card to perform this attack. \n\nYou may fire this weapon in any direction.",
        factions: &["dominion"],
        cost: 3,
        constraints: &[UpgradeConstraint::Attack("3"), UpgradeConstraint::Range(1, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T234",
        set: &["71275", "72262"],
        name: "Tetryon Emissions",
        text: "<b>ACTION:</b> Disable this Upgrade to add +3 defense dice each time you defend this round.",
        factions: &["dominion"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T233",
        set: &["71275", "72262"],
        name: "Cloaking Device",
        text: "Instead of performing a normal Action, you may disable this card to perform the [cloak] Action. While you have a [cloak] Token beside your ship, you may perform the [sensor-echo] Action even if this card is disabled. This Upgrade costs +5 Squadron Points for any non-Keldon class ship.",
        factions: &["dominion"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E116",
        set: &["71275", "72262"],
        name: "Captured Intelligence",
        text: "Before rolling your defense dice, if you do not have an [evade] Token beside your ship, you may discard this card to place an [evade] Token beside your ship. In addition, each time you defend during the round use this ability, roll 1 extra defense die.",
        factions: &["dominion"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E115",
        set: &["71272", "72292"],
        name: "Feint",
        text: "<b>ACTION:</b> Discard this Upgrade to target a ship at Range 2-3. If you attack that ship this round, it rolls 2 less defense dice.",
        factions: &["federation"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C171",
        set: &["71272", "72292"],
        name: "Dmitri Valtane",
        text: "If your ship has a [scan] Token beside it when you attack, you may re-roll up to 2 of your attack dice.",
        factions: &["federation"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C170",
        set: &["71272", "72292"],
        name: "Janice Rand",
        text: "After your ship moves, discard Rand to allow your Captain to perform the Action on one of his [talent] Upgrades as a free Action this round.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C169",
        set: &["71272", "72292"],
        name: "Lojur",
        text: "When your ship fires a [weapon] Upgrade that requires you to disable it, you may disable Lojur instead of that [weapon] Upgrade.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T232",
        set: &["71272", "72292"],
        name: "Positron Beam",
        text: "During the Planning Phase, you may discard this Upgrade to target a ship at Range 1 of your ship. That ship immediately receives an Auxiliary Power Token.",
        factions: &["federation"],
        cost: 2,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T231",
        set: &["71272", "72292"],
        name: "Transwarp Drive",
        text: "During the Activation Phase, if your Maneuver Dial reveals a [forward] 4 or [forward] 5 Maneuver, you may instead use a [forward] 6 Maneuver.",
        factions: &["federation"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E114",
        set: &["71274"],
        name: "Massacre",
        text: "If your ship inflicts a [crit] against an enemy's Hull, discard this card to inflict 1 additional damage to that ship. ",
        factions: &["romulan"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C168",
        set: &["71274"],
        name: "Selok",
        text: "<b>ACTION:</b> Discard Selok to target a ship at Range 1. That ship cannot attack your ship this round. ",
        factions: &["romulan"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T230",
        set: &["71274"],
        name: "Ultritium Explosives",
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all of your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Discard this card and 1 of your [crew] Upgrades to inflict 1 [crit] against the target ship. ",
        factions: &["romulan"],
        cost: 2,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E113",
        set: &["OP4Prize"],
        name: "Disobey Orders",
        text: "You may discard this card at any time to replace 1 [evade], [scan], or [battlestations] Token that is beside your ship with 1 [evade], [scan], or [battlestations] Token. ",
        factions: &["federation"],
        cost: 2,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C167",
        set: &["OP4Prize"],
        name: "Christopher Hobson",
        text: "<b>ACTION:</b> Gain +1 attack die when firing at any Cloaked ship. ",
        factions: &["federation"],
        cost: 4,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W100",
        set: &["OP4Prize"],
        name: "Secondary Torpedo Launcher",
        text: "<b>ATTACK: (Target Lock)</b> Discard this card and spend your target lock to perform this attack. \nIf you have already fired another torpedo at an enemy ship in your forward firing arc this round, you may use this weapon to make a second attack against that ship, at -1 attack die. You do not need to spend a second target lock to make the extra attack.",
        factions: &["federation"],
        cost: 4,
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T229",
        set: &["OP4Prize"],
        name: "High Energy Sensor Sweep",
        text: "After you move, you may disable 1 Active Shield to perform a free [scan] Action.",
        factions: &["federation"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E112",
        set: &["OP5Prize"],
        name: "Invaluable Advice",
        text: "Before rolling your attack or defense dice, you may discard this card to place a [battlestations] Token beside your ship.",
        factions: &["dominion"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C166",
        set: &["OP5Prize"],
        name: "Breen Guards",
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Disable Breen Guards and discard one [crew] Upgrade of your choice on the target ship. ",
        factions: &["dominion"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T228",
        set: &["OP5Prize"],
        name: "Cold Storage Unit",
        text: "Add 2 additional [weapon] icons to your ship's Upgrade Bar.",
        factions: &["dominion"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C165",
        set: &["71276"],
        name: "Marla Gilmore",
        text: "<b>ACTION:</b> If your ship is not Cloaked, disable all of your remaining Shields and target a ship at Range 1-2 that is not Cloaked and has no Active Shields. Disable this card and 1 [tech] of your choice on the target ship. You may then use that Upgrade's Action (if any) as a free Action this round.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C164",
        set: &["71276"],
        name: "Noah Lessing",
        text: "<b>ACTION:</b> Disable this card and any 1 of your [tech] Upgrades to target a ship at Range 1-2. Disable 1 of the target ship's Active Shields.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C163",
        set: &["71276"],
        name: "Emergency Medical Hologram",
        text: "This Upgrade counts as either a [crew] Upgrade or a [tech] Upgrade (your choice). \n\nWhen you use a [tech] Upgrade that requires you to disable it, you may disable this card instead of that [tech] Upgrade.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T227",
        set: &["71276"],
        name: "Emergency Medical Hologram",
        text: "This Upgrade counts as either a [crew] Upgrade or a [tech] Upgrade (your choice). \n\nWhen you use a [tech] Upgrade that requires you to disable it, you may disable this card instead of that [tech] Upgrade.",
        factions: &["federation"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T226",
        set: &["71276"],
        name: "Navigational Deflector",
        text: "When taking damage, you may discard this card to cancel 1 [hit] result. \n\nIf the damage is from a minefield or an obstacle, disable this card instead of discarding it. If you disable this card, you may roll defense dice against obstacles or minefields.",
        factions: &["federation"],
        cost: 5,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E111",
        set: &["71448"],
        name: "Klingon Honor",
        text: "<b>ACTION:</b> Disable this card to add +1 attack die and convert 1 [hit] result into 1 [crit] result during any one attack you initiate this round. You cannot roll any defense dice this round. \n\nThis Upgrade may only be purchased for a Klingon Captain.",
        factions: &["klingon"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C162",
        set: &["71448"],
        name: "Bu'Kah",
        text: "If you performed a Green Maneuver this round, discard this card to repair up to 2 damage to your Hull.",
        factions: &["klingon"],
        cost: 4,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T225",
        set: &["71448"],
        name: "Shockwave",
        text: "Instead of moving normally during the Activation Phase, you may discard this card and disable 1 of your Torpedoes to disregard your chosen Maneuver and perform a Red 1 [reverse] Full Astern Maneuver instead. \n\nThis upgrade may only be purchased for a Raptor Class ship.",
        factions: &["klingon"],
        cost: 2,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T224",
        set: &["71448"],
        name: "Tactical Sensors",
        text: "<b>ACTION:</b> Disable this card to place a [battlestations] Token and a [scan] Token beside your ship. \n\nThis upgrade may only be purchased for a Raptor class ship.",
        factions: &["klingon"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C161",
        set: &["71278"],
        name: "Centurion",
        text: "When one of your [crew] upgrades or your Captain is to be disabled or discarded, you may discard this card instead.",
        factions: &["romulan"],
        cost: 4,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C160",
        set: &["71278"],
        name: "Romulan Officer",
        text: "<b>ACTION:</b> Discard this card. \nIf you initiate an attack while Cloaked this round, add +2 attack dice. You cannot roll any defense dice this round.",
        factions: &["romulan"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E110",
        set: &["71278"],
        name: "Decoy",
        text: "When defending, before any dice are rolled, you may discard this card and any one of your [weapon] or [tech] Upgrades to force your opponent to roll 3 less attack dice this round.",
        factions: &["romulan"],
        cost: 4,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E109",
        set: &["71278"],
        name: "Double Back",
        text: "After performing a [sensor-echo] Action, you may discard this card to immediately perform a [reverse] 1 or [reverse] 2 Full Astern Maneuver.",
        factions: &["romulan"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W098",
        set: &["71278"],
        name: "Nuclear Warhead",
        text: "<b>ACTION:</b> At the end of the Activation Phase, discard this card and place a Minefield Token within Range 1 of your ship, but not within your forward firing arc and not on top of another ship. If a ship enters the minefield on a future turn, roll 3 attack dice. Any [hit] or [crit] damages the ship as normal. The affected ship does not roll any defense dice.",
        factions: &["romulan"],
        cost: 3,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C159",
        set: &["71279"],
        name: "Kudak'Etan",
        text: "<b>ACTION:</b> Target a ship at Range 1. Discard this card and disable 1 of your other [crew] Upgrades to disable all [crew] Upgrades on the target ship (even if that ships is Cloaked or has Active Shields). \n\nThis Upgrade may only be purchased for a Jem'hadar ship.",
        factions: &["dominion"],
        cost: 4,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C158",
        set: &["71279"],
        name: "Ixtana'Rax",
        text: "<b>ACTION:</b> Disable this card to flip over all Critical Damage cards assigned to your ship.",
        factions: &["dominion"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "crew",
        id: "C157",
        set: &["71279"],
        name: "Ikat'Ika",
        text: "When defending , you may discard this card to force one ship that attacks you this round to re-roll any number of their attack dice of your choice (once per die). \n\nThis Upgrade costs +5 Squadron Points for any non-Jem'hadar ship.",
        factions: &["dominion"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W097",
        set: &["71279"],
        name: "Photon Torpedoes",
        text: "<b>ATTACK: (Target Lock)</b> Spend your target lock and disable this card to perform this attack. \nIf fired from a Jem'Hadar Battleship add +2 attack dice. \nYou may fire this weapon form your forward or rear firing arcs.",
        factions: &["dominion"],
        cost: 6,
        constraints: &[UpgradeConstraint::Attack("5"), UpgradeConstraint::Range(2, 3)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E108",
        set: &["71279"],
        name: "Ketracel-White",
        text: "<b>ACTION:</b> Discard this card to remove all Disabled Upgrade Tokens from all of your Dominion [crew] Upgrades.",
        factions: &["dominion"],
        cost: 2,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "tech",
        id: "T223",
        set: &["71279"],
        name: "Shroud",
        text: "If one of your Dominion [crew] Upgrades is supposed to be discarded, discard this card instead.",
        factions: &["dominion"],
        cost: 1,
        constraints: &[],
    }, StawUpgrade {
        upgrade_type: "weapon",
        id: "W096",
        set: &["71279", "71524"],
        name: "Phased Polaron Beam",
        text: "<b>ATTACK: </b>Disable this card to perform this attack. \n\nAll damage inflicted by this attack ignores the opposing ship's Shields. \n\nThis Upgrade costs +5 Squadron Points for any non-Jem'Hadar ship.",
        factions: &["dominion"],
        cost: 5,
        constraints: &[UpgradeConstraint::Attack("4"), UpgradeConstraint::Range(1, 1)],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E107",
        set: &["OP6Prize"],
        name: "Blockade",
        text: "<b>ACTION:</b> Discard this card to target all friendly ships within Range 1 of your ship (including your ship). Target ships gain +1 attack die and +1 defense die this round.",
        factions: &["bajoran"],
        cost: 5,
        constraints: &[UpgradeConstraint::Unique],
    }, StawUpgrade {
        upgrade_type: "talent",
        id: "E106",
        set: &["OP6Prize"],
        name: "I Am Kohn-Ma",
        text: "<b>ACTION:</b> Discard the card to target a ship at Range 1-3. Disable one Upgrade of your choice on the target ship. \n\nThis upgrade may only be purchased for a Bajoran Captain.",
        factions: &["bajoran"],
        cost: 3,
        constraints: &[UpgradeConstraint::Unique],
    }];
